/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dump",function(e,t){var n=e.Lang,r="{...}",i="f(){...}",s=", ",o=" => ",u=function(e,t){var u,a,f=[],l=n.type(e);if(!n.isObject(e))return e+"";if(l=="date")return e;if(e.nodeType&&e.tagName)return e.tagName+"#"+e.id;if(e.document&&e.navigator)return"window";if(e.location&&e.body)return"document";if(l=="function")return i;t=n.isNumber(t)?t:3;if(l=="array"){f.push("[");for(u=0,a=e.length;u<a;u+=1)n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s);f.length>1&&f.pop(),f.push("]")}else if(l=="regexp")f.push(e.toString());else{f.push("{");for(u in e)if(e.hasOwnProperty(u))try{f.push(u+o),n.isObject(e[u])?f.push(t>0?n.dump(e[u],t-1):r):f.push(e[u]),f.push(s)}catch(c){f.push("Error: "+c.message)}f.length>1&&f.pop(),f.push("}")}return f.join("")};e.dump=u,n.dump=u},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-base",function(e,t){function o(t){var n=this;n._uid="io:"+s++,n._init(t),e.io._map[n._uid]=n}var n=["start","complete","end","success","failure","progress"],r=["status","statusText","responseText","responseXML"],i=e.config.win,s=0;o.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(t){var r=this,i,s;r.cfg=t||{},e.augment(r,e.EventTarget);for(i=0,s=n.length;i<s;++i)r.publish("io:"+n[i],e.merge({broadcast:1},t)),r.publish("io-trn:"+n[i],t)},_create:function(t,n){var r=this,s={id:e.Lang.isNumber(n)?n:r._id++,uid:r._uid},o=t.xdr?t.xdr.use:null,u=t.form&&t.form.upload?"iframe":null,a;return o==="native"&&(o=e.UA.ie&&!l?"xdr":null,r.setHeader("X-Requested-With")),a=o||u,s=a?e.merge(e.IO.customTransport(a),s):e.merge(e.IO.defaultTransport(),s),s.notify&&(t.notify=function(e,t,n){r.notify(e,t,n)}),a||i&&i.FormData&&t.data instanceof i.FormData&&(s.c.upload.onprogress=function(e){r.progress(s,e,t)},s.c.onload=function(e){r.load(s,e,t)},s.c.onerror=function(e){r.error(s,e,t)},s.upload=!0),s},_destroy:function(t){i&&!t.notify&&!t.xdr&&(u&&!t.upload?t.c.onreadystatechange=null:t.upload?(t.c.upload.onprogress=null,t.c.onload=null,t.c.onerror=null):e.UA.ie&&!t.e&&t.c.abort()),t=t.c=null},_evt:function(t,r,i){var s=this,o,u=i.arguments,a=s.cfg.emitFacade,f="io:"+t,l="io-trn:"+t;this.detach(l),r.e&&(r.c={status:0,statusText:r.e}),o=[a?{id:r.id,data:r.c,cfg:i,arguments:u}:r.id],a||(t===n[0]||t===n[2]?u&&o.push(u):(r.evt?o.push(r.evt):o.push(r.c),u&&o.push(u))),o.unshift(f),s.fire.apply(s,o),i.on&&(o[0]=l,s.once(l,i.on[t],i.context||e),s.fire.apply(s,o))},start:function(e,t){this._evt(n[0],e,t)},complete:function(e,t){this._evt(n[1],e,t)},end:function(e,t){this._evt(n[2],e,t),this._destroy(e)},success:function(e,t){this._evt(n[3],e,t),this.end(e,t)},failure:function(e,t){this._evt(n[4],e,t),this.end(e,t)},progress:function(e,t,r){e.evt=t,this._evt(n[5],e,r)},load:function(e,t,r){e.evt=t.target,this._evt(n[1],e,r)},error:function(e,t,r){e.evt=t,this._evt(n[4],e,r)},_retry:function(e,t,n){return this._destroy(e),n.xdr.use="flash",this.send(t,n,e.id)},_concat:function(e,t){return e+=(e.indexOf("?")===-1?"?":"&")+t,e},setHeader:function(e,t){t?this._headers[e]=t:delete this._headers[e]},_setHeaders:function(t,n){n=e.merge(this._headers,n),e.Object.each(n,function(e,r){e!=="disable"&&t.setRequestHeader(r,n[r])})},_startTimeout:function(e,t){var n=this;n._timeout[e.id]=setTimeout(function(){n._abort(e,"timeout")},t)},_clearTimeout:function(e){clearTimeout(this._timeout[e]),delete this._timeout[e]},_result:function(e,t){var n;try{n=e.c.status}catch(r){n=0}n>=200&&n<300||n===304||n===1223?this.success(e,t):this.failure(e,t)},_rS:function(e,t){var n=this;e.c.readyState===4&&(t.timeout&&n._clearTimeout(e.id),setTimeout(function(){n.complete(e,t),n._result(e,t)},0))},_abort:function(e,t){e&&e.c&&(e.e=t,e.c.abort())},send:function(t,n,i){var s,o,u,a,f,c,h=this,p=t,d={};n=n?e.Object(n):{},s=h._create(n,i),o=n.method?n.method.toUpperCase():"GET",f=n.sync,c=n.data,e.Lang.isObject(c)&&!c.nodeType&&!s.upload&&e.QueryString&&e.QueryString.stringify&&(n.data=c=e.QueryString.stringify(c));if(n.form){if(n.form.upload)return h.upload(s,t,n);c=h._serialize(n.form,c)}c||(c="");if(c)switch(o){case"GET":case"HEAD":case"DELETE":p=h._concat(p,c),c="";break;case"POST":case"PUT":n.headers=e.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)}if(s.xdr)return h.xdr(p,s,n);if(s.notify)return s.c.send(s,t,n);!f&&!s.upload&&(s.c.onreadystatechange=function(){h._rS(s,n)});try{s.c.open(o,p,!f,n.username||null,n.password||null),h._setHeaders(s.c,n.headers||{}),h.start(s,n),n.xdr&&n.xdr.credentials&&l&&(s.c.withCredentials=!0),s.c.send(c);if(f){for(u=0,a=r.length;u<a;++u)d[r[u]]=s.c[r[u]];return d.getAllResponseHeaders=function(){return s.c.getAllResponseHeaders()},d.getResponseHeader=function(e){return s.c.getResponseHeader(e)},h.complete(s,n),h._result(s,n),d}}catch(v){if(s.xdr)return h._retry(s,t,n);h.complete(s,n),h._result(s,n)}return n.timeout&&h._startTimeout(s,n.timeout),{id:s.id,abort:function(){return s.c?h._abort(s,"abort"):!1},isInProgress:function(){return s.c?s.c.readyState%4:!1},io:h}}},e.io=function(t,n){var r=e.io._map["io:0"]||new o;return r.send.apply(r,[t,n])},e.io.header=function(t,n){var r=e.io._map["io:0"]||new o;r.setHeader(t,n)},e.IO=o,e.io._map={};var u=i&&i.XMLHttpRequest,a=i&&i.XDomainRequest,f=i&&i.ActiveXObject,l=u&&"withCredentials"in new XMLHttpRequest;e.mix(e.IO,{_default:"xhr",defaultTransport:function(t){if(!t){var n={c:e.IO.transports[e.IO._default](),notify:e.IO._default==="xhr"?!1:!0};return n}e.IO._default=t},transports:{xhr:function(){return u?new XMLHttpRequest:f?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return a?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(t){var n={c:e.IO.transports[t]()};return n[t==="xdr"||t==="flash"?"xdr":"notify"]=!0,n}}),e.mix(e.IO.prototype,{notify:function(e,t,n){var r=this;switch(e){case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e},e="failure";default:r[e].apply(r,[t,n])}}})},"3.11.0",{requires:["event-custom-base","querystring-stringify-simple"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.11.0");
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.11.0",{requires:["io-base","datatype-xml-parse"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("json-parse",function(e,t){var n=e.config.global.JSON;e.namespace("JSON").parse=function(e,t,r){return n.parse(typeof e=="string"?e:e+"",t,r)}},"3.11.0",{requires:["yui-base"]});
YUI.add("gallery-flickr-api",function(a){YUI.namespace("flickrAPITransactions");var l=a.config.flickr.flags.enable_client_fullpath_api?a.config.flickrAPI.flickr_api_uri:"/services/rest/",n={format:"json",clientType:"yui-3-flickrapi-module"},g="flapicb",d=60000,h=YUI.flickrAPITransactions,c=function(){return true},k=function(){return true},i=function(){return true},b={last_response_id:0,id_map:{},response_map:{},setResponse:function(q,p){var o=b;o.response_map[q]=p;return o.response_map[q]},setId:function(r,q){var p=b,o=q;p.id_map[r]=o;p.last_response_id=o;return o}},f=function(r){var p="";for(var q in r){if(r.hasOwnProperty(q)){p+=q+"="+r[q]+"&"}}return p.substr(0,p.length-1)},j=function(v,s,o,q){var u=b,t,p;if(q){try{t=a.JSON.parse(s[1].responseText)}catch(r){a.log("invalid JSON","error","flickrAPI")}p=[{params:s[2].params,data:t}].concat(s)}else{t=(u.response_map[u.id_map[s[0].tId]])?u.response_map[u.id_map[s[0].tId]][0]:null;p=[{params:s[0].data,data:t}].concat(s)}if(t&&o){if(t.stat==="ok"){return v.apply(a,p)}else{if("fail"){a.log(t.message,"error","flickrAPI");return this.failure.apply(a,p)}}}else{if(o===0){this.failure.apply(a,p)}else{if(v){return v.apply(a,p)}}}},e=function(q,s,r){var p=b.last_response_id+1,o=a.Get.script(q+"?"+f(s)+"&jsoncallback=YUI.flickrAPITransactions."+g+p+"&cachebust="+(new Date()).getTime(),r);b.setId(o.tId,p);h[g+p]=function(t){var u=b.setResponse(p,arguments);if(u){a.later(1000,a,function(){delete h[g+p]})}};return o},m=function(o,q,p){a.use("io",function(r){r.io(o,{method:"POST",data:f(q),timeout:d,on:p,xdr:{credentials:true},"arguments":{params:q}})})};a.flickrAPI={callMethod:function(q,t,p,v,r){v=v||{};if(typeof v.timeout!=="number"){v.timeout=d}oYUIPOSTConf=v;t=t||{};var s=l,o;t=a.merge(a.config.flickrAPI,t);if(t.flickr_api_uri){s=t.flickr_api_uri;delete t.flickr_api_uri}a.Object.each(t,function(y,w,x){x[w]=encodeURIComponent(y)});t.method=q;if(a.Lang.isFunction(p)){p={success:p,failure:c,progress:k,timeout:i}}if(a.Lang.isObject(p)){v=a.merge(v,{onSuccess:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1])},onFailure:function(){if(b.response_map[b.id_map[arguments[0].tId]]!==null){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0])}},onProgress:function(){a.fire("flickrAPI:progress");return j.apply(p,[a.Lang.isFunction(p.progress)?p.progress:function(){},arguments,null])},onTimeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");h[g+b.id_map[arguments[0].tId]]=function(){a.log("A response callback was fired but suppressed because of a timeout enforced by configuration.","warn","flickrAPI")};b.response_map[b.id_map[arguments[0].tId]]=null;a.Get.abort(arguments[0].tId);a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0])}});oYUIPOSTConf=a.merge(oYUIPOSTConf,{success:function(){a.fire("flickrAPI:success");return j.apply(p,[p.success,arguments,1,1])},failure:function(){a.log("Your request (ID:"+arguments[0].tId+") has failed.","error","flickrAPI");a.fire("flickrAPI:failure");return j.apply(p,[p.failure,arguments,0,1])},timeout:function(){a.log("Your request (ID:"+arguments[0].tId+") has timed out","error","flickrAPI");a.fire("flickrAPI:timeout");return j.apply(p,[p.timeout,arguments,0,1])}})}v.scope=a;var u=a.merge(v.data,n,t);v.data=u;o=s+"?"+f(u);if(r){return{uri:s,params:u,full_url:o}}else{if(/(?:add|create|delete|edit|mute|post|record|remove|set|submit|unmute|move|sort|hide|block|unblock|insert|promote|login|cancel)[a-zA-Z]*$/.test(u.method)||o.length>a.config.maxURLLength){u.nojsoncallback=1;return m(s,u,oYUIPOSTConf)}else{return e(s,u,v)}}}}},"gallery-a-002",{requires:["event"]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("attribute-core",function(e,t){function b(e,t,n){this._yuievt=null,this._initAttrHost(e,t,n)}e.State=function(){this.data={}},e.State.prototype={add:function(e,t,n){var r=this.data[e];r||(r=this.data[e]={}),r[t]=n},addAll:function(e,t){var n=this.data[e],r;n||(n=this.data[e]={});for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r])},remove:function(e,t){var n=this.data[e];n&&delete n[t]},removeAll:function(t,n){var r;n?e.each(n,function(e,n){this.remove(t,typeof n=="string"?n:e)},this):(r=this.data,t in r&&delete r[t])},get:function(e,t){var n=this.data[e];if(n)return n[t]},getAll:function(e,t){var n=this.data[e],r,i;if(t)i=n;else if(n){i={};for(r in n)n.hasOwnProperty(r)&&(i[r]=n[r])}return i}};var n=e.Object,r=e.Lang,i=".",s="getter",o="setter",u="readOnly",a="writeOnce",f="initOnly",l="validator",c="value",h="valueFn",p="lazyAdd",d="added",v="_bypassProxy",m="initValue",g="lazy",y;b.INVALID_VALUE={},y=b.INVALID_VALUE,b._ATTR_CFG=[o,s,l,c,h,a,u,p,v],b.protectAttrs=function(t){if(t){t=e.merge(t);for(var n in t)t.hasOwnProperty(n)&&(t[n]=e.merge(t[n]))}return t},b.prototype={_initAttrHost:function(t,n,r){this._state=new e.State,this._initAttrs(t,n,r)},addAttr:function(e,t,n){var r=this,i=r._state,s=i.data,o,u,a;t=t||{},p in t&&(n=t[p]),u=i.get(e,d);if(n&&!u)i.data[e]={lazy:t,added:!0};else if(!u||t.isLazyAdd)a=c in t,a&&(o=t.value,t.value=undefined),t.added=!0,t.initializing=!0,s[e]=t,a&&r.set(e,o),t.initializing=!1;return r},attrAdded:function(e){return!!this._state.get(e,d)},get:function(e){return this._getAttr(e)},_isLazyAttr:function(e){return this._state.get(e,g)},_addLazyAttr:function(e,t){var n=this._state;t=t||n.get(e,g),t&&(n.data[e].lazy=undefined,t.isLazyAdd=!0,this.addAttr(e,t))},set:function(e,t,n){return this._setAttr(e,t,n)},_set:function(e,t,n){return this._setAttr(e,t,n,!0)},_setAttr:function(t,r,s,o){var u=!0,a=this._state,l=this._stateProxy,c=this._tCfgs,h,p,d,v,m,g,y;return t.indexOf(i)!==-1&&(d=t,v=t.split(i),t=v.shift()),c&&c[t]&&this._addOutOfOrder(t,c[t]),h=a.data[t]||{},h.lazy&&(h=h.lazy,this._addLazyAttr(t,h)),p=h.value===undefined,l&&t in l&&!h._bypassProxy&&(p=!1),g=h.writeOnce,y=h.initializing,!p&&!o&&(g&&(u=!1),h.readOnly&&(u=!1)),!y&&!o&&g===f&&(u=!1),u&&(p||(m=this.get(t)),v&&(r=n.setValue(e.clone(m),v,r),r===undefined&&(u=!1)),u&&(!this._fireAttrChange||y?this._setAttrVal(t,d,m,r,s,h):this._fireAttrChange(t,d,m,r,s,h))),this},_addOutOfOrder:function(e,t){var n={};n[e]=t,delete this._tCfgs[e],this._addAttrs(n,this._tVals)},_getAttr:function(e){var t=e,r=this._tCfgs,s,o,u,a;return e.indexOf(i)!==-1&&(s=e.split(i),e=s.shift()),r&&r[e]&&this._addOutOfOrder(e,r[e]),a=this._state.data[e]||{},a.lazy&&(a=a.lazy,this._addLazyAttr(e,a)),u=this._getStateVal(e,a),o=a.getter,o&&!o.call&&(o=this[o]),u=o?o.call(this,u,t):u,u=s?n.getValue(u,s):u,u},_getStateVal:function(e,t){var n=this._stateProxy;return t||(t=this._state.getAll(e)||{}),n&&e in n&&!t._bypassProxy?n[e]:t.value},_setStateVal:function(e,t){var n=this._stateProxy;n&&e in n&&!this._state.get(e,v)?n[e]=t:this._state.add(e,c,t)},_setAttrVal:function(e,t,n,i,s,o){var u=this,a=!0,f=o||this._state.data[e]||{},l=f.validator,c=f.setter,h=f.initializing,p=this._getStateVal(e,f),d=t||e,v,g;return l&&(l.call||(l=this[l]),l&&(g=l.call(u,i,d,s),!g&&h&&(i=f.defaultValue,g=!0))),!l||g?(c&&(c.call||(c=this[c]),c&&(v=c.call(u,i,d,s),v===y?h?i=f.defaultValue:a=!1:v!==undefined&&(i=v))),a&&(!t&&i===p&&!r.isObject(i)?a=!1:(m in f||(f.initValue=i),u._setStateVal(e,i)))):a=!1,a},setAttrs:function(e,t){return this._setAttrs(e,t)},_setAttrs:function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.set(n,e[n],t);return this},getAttrs:function(e){return this._getAttrs(e)},_getAttrs:function(e){var t={},r,i,s,o=e===!0;if(!e||o)e=n.keys(this._state.data);for(i=0,s=e.length;i<s;i++){r=e[i];if(!o||this._getStateVal(r)!=this._state.get(r,m))t[r]=this.get(r)}return t},addAttrs:function(e,t,n){return e&&(this._tCfgs=e,this._tVals=t?this._normAttrVals(t):null,this._addAttrs(e,this._tVals,n),this._tCfgs=this._tVals=null),this},_addAttrs:function(e,t,n){var r=this._tCfgs,i=this._tVals,s,o,u;for(s in e)e.hasOwnProperty(s)&&(o=e[s],o.defaultValue=o.value,u=this._getAttrInitVal(s,o,i),u!==undefined&&(o.value=u),r[s]&&(r[s]=undefined),this.addAttr(s,o,n))},_protectAttrs:b.protectAttrs,_normAttrVals:function(e){var t,n,r,s,o,u;if(!e)return null;t={};for(u in e)e.hasOwnProperty(u)&&(u.indexOf(i)!==-1?(r=u.split(i),s=r.shift(),n=n||{},o=n[s]=n[s]||[],o[o.length]={path:r,value:e[u]}):t[u]=e[u]);return{simple:t,complex:n}},_getAttrInitVal:function(e,t,r){var i=t.value,s=t.valueFn,o,u=!1,a=t.readOnly,f,l,c,h,p,d,v;!a&&r&&(f=r.simple,f&&f.hasOwnProperty(e)&&(i=f[e],u=!0)),s&&!u&&(s.call||(s=this[s]),s&&(o=s.call(this,e),i=o));if(!a&&r){l=r.complex;if(l&&l.hasOwnProperty(e)&&i!==undefined&&i!==null){v=l[e];for(c=0,h=v.length;c<h;++c)p=v[c].path,d=v[c].value,n.setValue(i,p,d)}}return i},_initAttrs:function(t,n,r){t=t||this.constructor.ATTRS;var i=e.Base,s=e.BaseCore,o=i&&e.instanceOf(this,i),u=!o&&s&&e.instanceOf(this,s);t&&!o&&!u&&this.addAttrs(e.AttributeCore.protectAttrs(t),n,r)}},e.AttributeCore=b},"3.11.0",{requires:["oop"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("attribute-observable",function(e,t){function s(){this._ATTR_E_FACADE={},n.call(this,{emitFacade:!0})}var n=e.EventTarget,r="Change",i="broadcast";s._ATTR_CFG=[i],s.prototype={set:function(e,t,n){return this._setAttr(e,t,n)},_set:function(e,t,n){return this._setAttr(e,t,n,!0)},setAttrs:function(e,t){return this._setAttrs(e,t)},_setAttrs:function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.set(n,e[n],t);return this},_fireAttrChange:function(t,n,i,s,o,u){var a=this,f=this._getFullType(t+r),l=a._state,c,h,p;u||(u=l.data[t]||{}),u.published||(p=a._publish(f),p.emitFacade=!0,p.defaultTargetOnly=!0,p.defaultFn=a._defAttrChangeFn,h=u.broadcast,h!==undefined&&(p.broadcast=h),u.published=!0),o?(c=e.merge(o),c._attrOpts=o):c=a._ATTR_E_FACADE,c.attrName=t,c.subAttrName=n,c.prevVal=i,c.newVal=s,a._hasPotentialSubscribers(f)?a.fire(f,c):this._setAttrVal(t,n,i,s,o,u)},_defAttrChangeFn:function(e,t){var n=e._attrOpts;n&&delete e._attrOpts,this._setAttrVal(e.attrName,e.subAttrName,e.prevVal,e.newVal,n)?t||(e.newVal=this.get(e.attrName)):t||e.stopImmediatePropagation()}},e.mix(s,n,!1,null,1),e.AttributeObservable=s,e.AttributeEvents=s},"3.11.0",{requires:["event-custom"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("attribute-extras",function(e,t){function o(){}var n="broadcast",r="published",i="initValue",s={readOnly:1,writeOnce:1,getter:1,broadcast:1};o.prototype={modifyAttr:function(e,t){var i=this,o,u;if(i.attrAdded(e)){i._isLazyAttr(e)&&i._addLazyAttr(e),u=i._state;for(o in t)s[o]&&t.hasOwnProperty(o)&&(u.add(e,o,t[o]),o===n&&u.remove(e,r))}},removeAttr:function(e){this._state.removeAll(e)},reset:function(t){var n=this;return t?(n._isLazyAttr(t)&&n._addLazyAttr(t),n.set(t,n._state.get(t,i))):e.each(n._state.data,function(e,t){n.reset(t)}),n},_getAttrCfg:function(t){var n,r=this._state;return t?n=r.getAll(t)||{}:(n={},e.each(r.data,function(e,t){n[t]=r.getAll(t)})),n}},e.AttributeExtras=o},"3.11.0",{requires:["oop"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("attribute-base",function(e,t){function n(){e.AttributeCore.apply(this,arguments),e.AttributeObservable.apply(this,arguments),e.AttributeExtras.apply(this,arguments)}e.mix(n,e.AttributeCore,!1,null,1),e.mix(n,e.AttributeExtras,!1,null,1),e.mix(n,e.AttributeObservable,!0,null,1),n.INVALID_VALUE=e.AttributeCore.INVALID_VALUE,n._ATTR_CFG=e.AttributeCore._ATTR_CFG.concat(e.AttributeObservable._ATTR_CFG),n.protectAttrs=e.AttributeCore.protectAttrs,e.Attribute=n},"3.11.0",{requires:["attribute-core","attribute-observable","attribute-extras"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-core",function(e,t){function v(e){this._BaseInvoked||(this._BaseInvoked=!0,this._initBase(e))}var n=e.Object,r=e.Lang,i=".",s="initialized",o="destroyed",u="initializer",a="value",f=Object.prototype.constructor,l="deep",c="shallow",h="destructor",p=e.AttributeCore,d=function(e,t,n){var r;for(r in t)n[r]&&(e[r]=t[r]);return e};v._ATTR_CFG=p._ATTR_CFG.concat("cloneDefaultValue"),v._NON_ATTRS_CFG=["plugins"],v.NAME="baseCore",v.ATTRS={initialized:{readOnly:!0,value:!1},destroyed:{readOnly:!0,value:!1}},v.modifyAttrs=function(t,n){typeof t!="function"&&(n=t,t=this);var r,i,s;r=t.ATTRS||(t.ATTRS={});if(n){t._CACHED_CLASS_DATA=null;for(s in n)n.hasOwnProperty(s)&&(i=r[s]||(r[s]={}),e.mix(i,n[s],!0))}},v.prototype={_initBase:function(t){e.stamp(this),this._initAttribute(t);var n=e.Plugin&&e.Plugin.Host;this._initPlugins&&n&&n.call(this),this._lazyAddAttrs!==!1&&(this._lazyAddAttrs=!0),this.name=this.constructor.NAME,this.init.apply(this,arguments)},_initAttribute:function(){p.call(this)},init:function(e){return this._baseInit(e),this},_baseInit:function(e){this._initHierarchy(e),this._initPlugins&&this._initPlugins(e),this._set(s,!0)},destroy:function(){return this._baseDestroy(),this},_baseDestroy:function(){this._destroyPlugins&&this._destroyPlugins(),this._destroyHierarchy(),this._set(o,!0)},_getClasses:function(){return this._classes||this._initHierarchyData(),this._classes},_getAttrCfgs:function(){return this._attrs||this._initHierarchyData(),this._attrs},_getInstanceAttrCfgs:function(e){var t={},r,i,s,o,u,a,f,l=e._subAttrs,c=this._attrCfgHash();for(a in e)if(e.hasOwnProperty(a)&&a!=="_subAttrs"){f=e[a],r=t[a]=d({},f,c),i=r.value,i&&typeof i=="object"&&this._cloneDefaultValue(a,r);if(l&&l.hasOwnProperty(a)){o=e._subAttrs[a];for(u in o)s=o[u],s.path&&n.setValue(r.value,s.path,s.value)}}return t},_filterAdHocAttrs:function(e,t){var n,r=this._nonAttrs,i;if(t){n={};for(i in t)!e[i]&&!r[i]&&t.hasOwnProperty(i)&&(n[i]={value:t[i]})}return n},_initHierarchyData:function(){var e=this.constructor,t=e._CACHED_CLASS_DATA,n,r,i,s,o,u=!e._ATTR_CFG_HASH,a,f={},l=[],c=[];n=e;if(!t){while(n){l[l.length]=n,n.ATTRS&&(c[c.length]=n.ATTRS);if(u){s=n._ATTR_CFG,o=o||{};if(s)for(r=0,i=s.length;r<i;r+=1)o[s[r]]=!0}a=n._NON_ATTRS_CFG;if(a)for(r=0,i=a.length;r<i;r++)f[a[r]]=!0;n=n.superclass?n.superclass.constructor:null}u&&(e._ATTR_CFG_HASH=o),t=e._CACHED_CLASS_DATA={classes:l,nonAttrs:f,attrs:this._aggregateAttrs(c)}}this._classes=t.classes,this._attrs=t.attrs,this._nonAttrs=t.nonAttrs},_attrCfgHash:function(){return this.constructor._ATTR_CFG_HASH},_cloneDefaultValue:function(t,n){var i=n.value,s=n.cloneDefaultValue;s===l||s===!0?n.value=e.clone(i):s===c?n.value=e.merge(i):s===undefined&&(f===i.constructor||r.isArray(i))&&(n.value=e.clone(i))},_aggregateAttrs:function(e){var t,n,r,s,o,u,f=this._attrCfgHash(),l,c={};if(e)for(u=e.length-1;u>=0;--u){n=e[u];for(t in n)n.hasOwnProperty(t)&&(s=d({},n[t],f),o=null,t.indexOf(i)!==-1&&(o=t.split(i),t=o.shift()),l=c[t],o&&l&&l.value?(r=c._subAttrs,r||(r=c._subAttrs={}),r[t]||(r[t]={}),r[t][o.join(i)]={value:s.value,path:o}):o||(l?(l.valueFn&&a in s&&(l.valueFn=null),d(l,s,f)):c[t]=s))}return c},_initHierarchy:function(e){var t=this._lazyAddAttrs,n,r,i,s,o,a,f,l,c,h,p,d=[],v=this._getClasses(),m=this._getAttrCfgs(),g=v.length-1;for(o=g;o>=0;o--){n=v[o],r=n.prototype,h=n._yuibuild&&n._yuibuild.exts,r.hasOwnProperty(u)&&(d[d.length]=r.initializer);if(h)for(a=0,f=h.length;a<f;a++)l=h[a],l.apply(this,arguments),c=l.prototype,c.hasOwnProperty(u)&&(d[d.length]=c.initializer)}p=this._getInstanceAttrCfgs(m),this._preAddAttrs&&this._preAddAttrs(p,e,t),this._allowAdHocAttrs&&this.addAttrs(this._filterAdHocAttrs(m,e),e,t),this.addAttrs(p,e,t);for(i=0,s=d.length;i<s;i++)d[i].apply(this,arguments)},_destroyHierarchy:function(){var e,t,n,r,i,s,o,u,a=this._getClasses();for(n=0,r=a.length;n<r;n++){e=a[n],t=e.prototype,o=e._yuibuild&&e._yuibuild.exts;if(o)for(i=0,s=o.length;i<s;i++)u=o[i].prototype,u.hasOwnProperty(h)&&u.destructor.apply(this,arguments);t.hasOwnProperty(h)&&t.destructor.apply(this,arguments)}},toString:function(){return this.name+"["+e.stamp(this,!0)+"]"}},e.mix(v,p,!1,null,1),v.prototype.constructor=v,e.BaseCore=v},"3.11.0",{requires:["attribute-core"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-observable",function(e,t){function f(){}var n=e.Lang,r="destroy",i="init",s="bubbleTargets",o="_bubbleTargets",u=e.AttributeObservable,a=e.BaseCore;f._ATTR_CFG=u._ATTR_CFG.concat(),f._NON_ATTRS_CFG=["on","after","bubbleTargets"],f.prototype={_initAttribute:function(){a.prototype._initAttribute.apply(this,arguments),u.call(this),this._eventPrefix=this.constructor.EVENT_PREFIX||this.constructor.NAME,this._yuievt.config.prefix=this._eventPrefix},init:function(e){var t=this._getFullType(i),n=this._publish(t);return n.emitFacade=!0,n.fireOnce=!0,n.defaultTargetOnly=!0,n.defaultFn=this._defInitFn,this._preInitEventCfg(e),n._hasPotentialSubscribers()?this.fire(t,{cfg:e}):(this._baseInit(e),n.fired=!0,n.firedWith=[{cfg:e}]),this},_preInitEventCfg:function(e){e&&(e.on&&this.on(e.on),e.after&&this.after(e.after));var t,r,i,u=e&&s in e;if(u||o in this){i=u?e&&e.bubbleTargets:this._bubbleTargets;if(n.isArray(i))for(t=0,r=i.length;t<r;t++)this.addTarget(i[t]);else i&&this.addTarget(i)}},destroy:function(){return this.publish(r,{fireOnce:!0,defaultTargetOnly:!0,defaultFn:this._defDestroyFn}),this.fire(r),this.detachAll(),this},_defInitFn:function(e){this._baseInit(e.cfg)},_defDestroyFn:function(e){this._baseDestroy(e.cfg)}},e.mix(f,u,!1,null,1),e.BaseObservable=f},"3.11.0",{requires:["attribute-observable"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-base",function(e,t){function o(){i.apply(this,arguments),s.apply(this,arguments),r.apply(this,arguments)}var n=e.AttributeCore,r=e.AttributeExtras,i=e.BaseCore,s=e.BaseObservable;o._ATTR_CFG=i._ATTR_CFG.concat(s._ATTR_CFG),o._NON_ATTRS_CFG=i._NON_ATTRS_CFG.concat(s._NON_ATTRS_CFG),o.NAME="base",o.ATTRS=n.protectAttrs(i.ATTRS),o.modifyAttrs=i.modifyAttrs,e.mix(o,i,!1,null,1),e.mix(o,r,!1,null,1),e.mix(o,s,!0,null,1),o.prototype.constructor=o,e.Base=o},"3.11.0",{requires:["attribute-base","base-core","base-observable"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("color-base",function(e,t){var n=/^#?([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,r=/^#?([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,i=/rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/,s={HEX:"hex",RGB:"rgb",RGBA:"rgba"},o={hex:"toHex",rgb:"toRGB",rgba:"toRGBA"};e.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},REGEX_HEX:n,REGEX_HEX3:r,REGEX_RGB:i,re_RGB:i,re_hex:n,re_hex3:r,STR_HEX:"#{*}{*}{*}",STR_RGB:"rgb({*}, {*}, {*})",STR_RGBA:"rgba({*}, {*}, {*}, {*})",TYPES:s,CONVERTS:o,convert:function(t,n){var r=e.Color.CONVERTS[n.toLowerCase()],i=t;return r&&e.Color[r]&&(i=e.Color[r](t)),i},toHex:function(t){var n=e.Color._convertTo(t,"hex"),r=n.toLowerCase()==="transparent";return n.charAt(0)!=="#"&&!r&&(n="#"+n),r?n.toLowerCase():n.toUpperCase()},toRGB:function(t){var n=e.Color._convertTo(t,"rgb");return n.toLowerCase()},toRGBA:function(t){var n=e.Color._convertTo(t,"rgba");return n.toLowerCase()},toArray:function(t){var n=e.Color.findType(t).toUpperCase(),r,i,s,o;return n==="HEX"&&t.length<5&&(n="HEX3"),n.charAt(n.length-1)==="A"&&(n=n.slice(0,-1)),r=e.Color["REGEX_"+n],r&&(i=r.exec(t)||[],s=i.length,s&&(i.shift(),s--,n==="HEX3"&&(i[0]+=i[0],i[1]+=i[1],i[2]+=i[2]),o=i[s-1],o||(i[s-1]=1))),i},fromArray:function(t,n){t=t.concat();if(typeof n=="undefined")return t.join(", ");var r="{*}";n=e.Color["STR_"+n.toUpperCase()],t.length===3&&n.match(/\{\*\}/g).length===4&&t.push(1);while(n.indexOf(r)>=0&&t.length>0)n=n.replace(r,t.shift());return n},findType:function(t){if(e.Color.KEYWORDS[t])return"keyword";var n=t.indexOf("("),r;return n>0&&(r=t.substr(0,n)),r&&e.Color.TYPES[r.toUpperCase()]?e.Color.TYPES[r.toUpperCase()]:"hex"},_getAlpha:function(t){var n,r=e.Color.toArray(t);return r.length>3&&(n=r.pop()),+n||1},_keywordToHex:function(t){var n=e.Color.KEYWORDS[t];if(n)return n},_convertTo:function(t,n){if(t==="transparent")return t;var r=e.Color.findType(t),i=n,s,o,u,a;return r==="keyword"&&(t=e.Color._keywordToHex(t),r="hex"),r==="hex"&&t.length<5&&(t.charAt(0)==="#"&&(t=t.substr(1)),t="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),r===n?t:(r.charAt(r.length-1)==="a"&&(r=r.slice(0,-1)),s=n.charAt(n.length-1)==="a",s&&(n=n.slice(0,-1),o=e.Color._getAlpha(t)),a=n.charAt(0).toUpperCase()+n.substr(1).toLowerCase(),u=e.Color["_"+r+"To"+a],u||r!=="rgb"&&n!=="rgb"&&(t=e.Color["_"+r+"ToRgb"](t),r="rgb",u=e.Color["_"+r+"To"+a]),u&&(t=u(t,s)),s&&(e.Lang.isArray(t)||(t=e.Color.toArray(t)),t.push(o),t=e.Color.fromArray(t,i.toUpperCase())),t)},_hexToRgb:function(e,t){var n,r,i;return e.charAt(0)==="#"&&(e=e.substr(1)),e=parseInt(e,16),n=e>>16,r=e>>8&255,i=e&255,t?[n,r,i]:"rgb("+n+", "+r+", "+i+")"},_rgbToHex:function(t){var n=e.Color.toArray(t),r=n[2]|n[1]<<8|n[0]<<16;r=(+r).toString(16);while(r.length<6)r="0"+r;return"#"+r}}},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dom-style",function(e,t){(function(e){var t="documentElement",n="defaultView",r="ownerDocument",i="style",s="float",o="cssFloat",u="styleFloat",a="transparent",f="getComputedStyle",l="getBoundingClientRect",c=e.config.win,h=e.config.doc,p=undefined,d=e.DOM,v="transform",m="transformOrigin",g=["WebkitTransform","MozTransform","OTransform","msTransform"],y=/color$/i,b=/width|height|top|left|right|bottom|margin|padding/i;e.Array.each(g,function(e){e in h[t].style&&(v=e,m=e+"Origin")}),e.mix(d,{DEFAULT_UNIT:"px",CUSTOM_STYLES:{},setStyle:function(e,t,n,r){r=r||e.style;var i=d.CUSTOM_STYLES;if(r){n===null||n===""?n="":!isNaN(new Number(n))&&b.test(t)&&(n+=d.DEFAULT_UNIT);if(t in i){if(i[t].set){i[t].set(e,n,r);return}typeof i[t]=="string"&&(t=i[t])}else t===""&&(t="cssText",n="");r[t]=n}},getStyle:function(e,t,n){n=n||e.style;var r=d.CUSTOM_STYLES,i="";if(n){if(t in r){if(r[t].get)return r[t].get(e,t,n);typeof r[t]=="string"&&(t=r[t])}i=n[t],i===""&&(i=d[f](e,t))}return i},setStyles:function(t,n){var r=t.style;e.each(n,function(e,n){d.setStyle(t,n,e,r)},d)},getComputedStyle:function(e,t){var s="",o=e[r],u;return e[i]&&o[n]&&o[n][f]&&(u=o[n][f](e,null),u&&(s=u[t])),s}}),h[t][i][o]!==p?d.CUSTOM_STYLES[s]=o:h[t][i][u]!==p&&(d.CUSTOM_STYLES[s]=u),e.UA.opera&&(d[f]=function(t,i){var s=t[r][n],o=s[f](t,"")[i];return y.test(i)&&(o=e.Color.toRGB(o)),o}),e.UA.webkit&&(d[f]=function(e,t){var i=e[r][n],s=i[f](e,"")[t];return s==="rgba(0, 0, 0, 0)"&&(s=a),s}),e.DOM._getAttrOffset=function(t,n){var r=e.DOM[f](t,n),i=t.offsetParent,s,o,u;return r==="auto"&&(s=e.DOM.getStyle(t,"position"),s==="static"||s==="relative"?r=0:i&&i[l]&&(o=i[l]()[n],u=t[l]()[n],n==="left"||n==="top"?r=u-o:r=o-t[l]()[n])),r},e.DOM._getOffset=function(e){var t,n=null;return e&&(t=d.getStyle(e,"position"),n=[parseInt(d[f](e,"left"),10),parseInt(d[f](e,"top"),10)],isNaN(n[0])&&(n[0]=parseInt(d.getStyle(e,"left"),10),isNaN(n[0])&&(n[0]=t==="relative"?0:e.offsetLeft||0)),isNaN(n[1])&&(n[1]=parseInt(d.getStyle(e,"top"),10),isNaN(n[1])&&(n[1]=t==="relative"?0:e.offsetTop||0))),n},d.CUSTOM_STYLES.transform={set:function(e,t,n){n[v]=t},get:function(e,t){return d[f](e,v)}},d.CUSTOM_STYLES.transformOrigin={set:function(e,t,n){n[m]=t},get:function(e,t){return d[f](e,m)}}})(e)},"3.11.0",{requires:["dom-base","color-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-style",function(e,t){(function(e){e.mix(e.Node.prototype,{setStyle:function(t,n){return e.DOM.setStyle(this._node,t,n),this},setStyles:function(t){return e.DOM.setStyles(this._node,t),this},getStyle:function(t){return e.DOM.getStyle(this._node,t)},getComputedStyle:function(t){return e.DOM.getComputedStyle(this._node,t)}}),e.NodeList.importMethod(e.Node.prototype,["getStyle","getComputedStyle","setStyle","setStyles"])})(e)},"3.11.0",{requires:["dom-style","node-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-base",function(e,t){var n="running",r="startTime",i="elapsedTime",s="start",o="tween",u="end",a="node",f="paused",l="reverse",c="iterationCount",h=Number,p={},d;e.Anim=function(){e.Anim.superclass.constructor.apply(this,arguments),e.Anim._instances[e.stamp(this)]=this},e.Anim.NAME="anim",e.Anim._instances={},e.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,e.Anim.DEFAULT_UNIT="px",e.Anim.DEFAULT_EASING=function(e,t,n,r){return n*e/r+t},e.Anim._intervalTime=20,e.Anim.behaviors={left:{get:function(e,t){return e._getOffset(t)}}},e.Anim.behaviors.top=e.Anim.behaviors.left,e.Anim.DEFAULT_SETTER=function(t,n,r,i,s,o,u,a){var f=t._node,l=f._node,c=u(s,h(r),h(i)-h(r),o);l?"style"in l&&(n in l.style||n in e.DOM.CUSTOM_STYLES)?(a=a||"",f.setStyle(n,c+a)):"attributes"in l&&n in l.attributes?f.setAttribute(n,c):n in l&&(l[n]=c):f.set?f.set(n,c):n in f&&(f[n]=c)},e.Anim.DEFAULT_GETTER=function(t,n){var r=t._node,i=r._node,s="";return i?"style"in i&&(n in i.style||n in e.DOM.CUSTOM_STYLES)?s=r.getComputedStyle(n):"attributes"in i&&n in i.attributes?s=r.getAttribute(n):n in i&&(s=i[n]):r.get?s=r.get(n):n in r&&(s=r[n]),s},e.Anim.ATTRS={node:{setter:function(t){return t&&(typeof t=="string"||t.nodeType)&&(t=e.one(t)),this._node=t,!t,t}},duration:{value:1},easing:{value:e.Anim.DEFAULT_EASING,setter:function(t){if(typeof t=="string"&&e.Easing)return e.Easing[t]}},from:{},to:{},startTime:{value:0,readOnly:!0},elapsedTime:{value:0,readOnly:!0},running:{getter:function(){return!!p[e.stamp(this)]},value:!1,readOnly:!0},iterations:{value:1},iterationCount:{value:0,readOnly:!0},direction:{value:"normal"},paused:{readOnly:!0,value:!1},reverse:{value:!1}},e.Anim.run=function(){var t=e.Anim._instances,n;for(n in t)t[n].run&&t[n].run()},e.Anim.pause=function(){for(var t in p)p[t].pause&&p[t].pause();e.Anim._stopTimer()},e.Anim.stop=function(){for(var t in p)p[t].stop&&p[t].stop();e.Anim._stopTimer()},e.Anim._startTimer=function(){d||(d=setInterval(e.Anim._runFrame,e.Anim._intervalTime))},e.Anim._stopTimer=function(){clearInterval(d),d=0},e.Anim._runFrame=function(){var t=!0,n;for(n in p)p[n]._runFrame&&(t=!1,p[n]._runFrame());t&&e.Anim._stopTimer()},e.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var v={run:function(){return this.get(f)?this._resume():this.get(n)||this._start(),this},pause:function(){return this.get(n)&&this._pause(),this},stop:function(e){return(this.get(n)||this.get(f))&&this._end(e),this},_added:!1,_start:function(){this._set(r,new Date-this.get(i)),this._actualFrames=0,this.get(f)||this._initAnimAttr(),p[e.stamp(this)]=this,e.Anim._startTimer(),this.fire(s)},_pause:function(){this._set(r,null),this._set(f,!0),delete p[e.stamp(this)],this.fire("pause")},_resume:function(){this._set(f,!1),p[e.stamp(this)]=this,this._set(r,new Date-this.get(i)),e.Anim._startTimer(),this.fire("resume")},_end:function(t){var n=this.get("duration")*1e3;t&&this._runAttrs(n,n,this.get(l)),this._set(r,null),this._set(i,0),this._set(f,!1),delete p[e.stamp(this)],this.fire(u,{elapsed:this.get(i)})},_runFrame:function(){var e=this._runtimeAttr.duration,t=new Date-this.get(r),n=this.get(l),s=t>=e;this._runAttrs(t,e,n),this._actualFrames+=1,this._set(i,t),this.fire(o),s&&this._lastFrame()},_runAttrs:function(t,n,r){var i=this._runtimeAttr,s=e.Anim.behaviors,o=i.easing,u=n,a=!1,f,l,c;t>=n&&(a=!0),r&&(t=n-t,u=0);for(c in i)i[c].to&&(f=i[c],l=c in s&&"set"in s[c]?s[c].set:e.Anim.DEFAULT_SETTER,a?l(this,c,f.from,f.to,u,n,o,f.unit):l(this,c,f.from,f.to,t,n,o,f.unit))},_lastFrame:function(){var e=this.get("iterations"),t=this.get(c);t+=1,e==="infinite"||t<e?(this.get("direction")==="alternate"&&this.set(l,!this.get(l)),this.fire("iteration")):(t=0,this._end()),this._set(r,new Date),this._set(c,t)},_initAnimAttr:function(){var t=this.get("from")||{},n=this.get("to")||{},r={duration:this.get("duration")*1e3,easing:this.get("easing")},i=e.Anim.behaviors,s=this.get(a),o,u,f;e.each(n,function(n,a){typeof n=="function"&&(n=n.call(this,s)),u=t[a],u===undefined?u=a in i&&"get"in i[a]?i[a].get(this,a):e.Anim.DEFAULT_GETTER(this,a):typeof u=="function"&&(u=u.call(this,s));var l=e.Anim.RE_UNITS.exec(u),c=e.Anim.RE_UNITS.exec(n);u=l?l[1]:u,f=c?c[1]:n,o=c?c[2]:l?l[2]:"",!o&&e.Anim.RE_DEFAULT_UNIT.test(a)&&(o=e.Anim.DEFAULT_UNIT);if(!u||!f){e.error('invalid "from" or "to" for "'+a+'"',"Anim");return}r[a]={from:e.Lang.isObject(u)?e.clone(u):u,to:f,unit:o}},this),this._runtimeAttr=r},_getOffset:function(e){var t=this._node,n=t.getComputedStyle(e),r=e==="left"?"getX":"getY",i=e==="left"?"setX":"setY",s;return n==="auto"&&(s=t.getStyle("position"),s==="absolute"||s==="fixed"?(n=t[r](),t[i](n)):n=0),n},destructor:function(){delete e.Anim._instances[e.stamp(this)]}};e.extend(e.Anim,e.Base,v)},"3.11.0",{requires:["base-base","node-style"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-color",function(e,t){var n=Number;e.Anim.getUpdatedColorValue=function(t,r,i,s,o){return t=e.Color.re_RGB.exec(e.Color.toRGB(t)),r=e.Color.re_RGB.exec(e.Color.toRGB(r)),(!t||t.length<3||!r||r.length<3)&&e.error("invalid from or to passed to color behavior"),"rgb("+[Math.floor(o(i,n(t[1]),n(r[1])-n(t[1]),s)),Math.floor(o(i,n(t[2]),n(r[2])-n(t[2]),s)),Math.floor(o(i,n(t[3]),n(r[3])-n(t[3]),s))].join(", ")+")"},e.Anim.behaviors.color={set:function(t,n,r,i,s,o,u){t._node.setStyle(n,e.Anim.getUpdatedColorValue(r,i,s,o,u))},get:function(e,t){var n=e._node.getComputedStyle(t);return n=n==="transparent"?"rgb(255, 255, 255)":n,n}},e.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(t){e.Anim.behaviors[t]=e.Anim.behaviors.color})},"3.11.0",{requires:["anim-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("dom-screen",function(e,t){(function(e){var t="documentElement",n="compatMode",r="position",i="fixed",s="relative",o="left",u="top",a="BackCompat",f="medium",l="borderLeftWidth",c="borderTopWidth",h="getBoundingClientRect",p="getComputedStyle",d=e.DOM,v=/^t(?:able|d|h)$/i,m;e.UA.ie&&(e.config.doc[n]!=="BackCompat"?m=t:m="body"),e.mix(d,{winHeight:function(e){var t=d._getWinSize(e).height;return t},winWidth:function(e){var t=d._getWinSize(e).width;return t},docHeight:function(e){var t=d._getDocSize(e).height;return Math.max(t,d._getWinSize(e).height)},docWidth:function(e){var t=d._getDocSize(e).width;return Math.max(t,d._getWinSize(e).width)},docScrollX:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageXOffset:0;return Math.max(r[t].scrollLeft,r.body.scrollLeft,s)},docScrollY:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageYOffset:0;return Math.max(r[t].scrollTop,r.body.scrollTop,s)},getXY:function(){return e.config.doc[t][h]?function(r){var i=null,s,o,u,f,l,c,p,v,g,y;if(r&&r.tagName){p=r.ownerDocument,u=p[n],u!==a?y=p[t]:y=p.body,y.contains?g=y.contains(r):g=e.DOM.contains(y,r);if(g){v=p.defaultView,v&&"pageXOffset"in v?(s=v.pageXOffset,o=v.pageYOffset):(s=m?p[m].scrollLeft:d.docScrollX(r,p),o=m?p[m].scrollTop:d.docScrollY(r,p)),e.UA.ie&&(!p.documentMode||p.documentMode<8||u===a)&&(l=y.clientLeft,c=y.clientTop),f=r[h](),i=[f.left,f.top];if(l||c)i[0]-=l,i[1]-=c;if(o||s)if(!e.UA.ios||e.UA.ios>=4.2)i[0]+=s,i[1]+=o}else i=d._getOffset(r)}return i}:function(t){var n=null,s,o,u,a,f;if(t)if(d.inDoc(t)){n=[t.offsetLeft,t.offsetTop],s=t.ownerDocument,o=t,u=e.UA.gecko||e.UA.webkit>519?!0:!1;while(o=o.offsetParent)n[0]+=o.offsetLeft,n[1]+=o.offsetTop,u&&(n=d._calcBorders(o,n));if(d.getStyle(t,r)!=i){o=t;while(o=o.parentNode){a=o.scrollTop,f=o.scrollLeft,e.UA.gecko&&d.getStyle(o,"overflow")!=="visible"&&(n=d._calcBorders(o,n));if(a||f)n[0]-=f,n[1]-=a}n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n=d._getOffset(t);return n}}(),getScrollbarWidth:e.cached(function(){var t=e.config.doc,n=t.createElement("div"),r=t.getElementsByTagName("body")[0],i=.1;return r&&(n.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;",n.appendChild(t.createElement("p")).style.height="1px",r.insertBefore(n,r.firstChild),i=n.offsetWidth-n.clientWidth,r.removeChild(n)),i},null,.1),getX:function(e){return d.getXY(e)[0]},getY:function(e){return d.getXY(e)[1]},setXY:function(e,t,n){var i=d.setStyle,a,f,l,c;e&&t&&(a=d.getStyle(e,r),f=d._getOffset(e),a=="static"&&(a=s,i(e,r,a)),c=d.getXY(e),t[0]!==null&&i(e,o,t[0]-c[0]+f[0]+"px"),t[1]!==null&&i(e,u,t[1]-c[1]+f[1]+"px"),n||(l=d.getXY(e),(l[0]!==t[0]||l[1]!==t[1])&&d.setXY(e,t,!0)))},setX:function(e,t){return d.setXY(e,[t,null])},setY:function(e,t){return d.setXY(e,[null,t])},swapXY:function(e,t){var n=d.getXY(e);d.setXY(e,d.getXY(t)),d.setXY(t,n)},_calcBorders:function(t,n){var r=parseInt(d[p](t,c),10)||0,i=parseInt(d[p](t,l),10)||0;return e.UA.gecko&&v.test(t.tagName)&&(r=0,i=0),n[0]+=i,n[1]+=r,n},_getWinSize:function(r,i){i=i||r?d._getDoc(r):e.config.doc;var s=i.defaultView||i.parentWindow,o=i[n],u=s.innerHeight,a=s.innerWidth,f=i[t];return o&&!e.UA.opera&&(o!="CSS1Compat"&&(f=i.body),u=f.clientHeight,a=f.clientWidth),{height:u,width:a}},_getDocSize:function(r){var i=r?d._getDoc(r):e.config.doc,s=i[t];return i[n]!="CSS1Compat"&&(s=i.body),{height:s.scrollHeight,width:s.scrollWidth}}})})(e),function(e){var t="top",n="right",r="bottom",i="left",s=function(e,s){var o=Math.max(e[t],s[t]),u=Math.min(e[n],s[n]),a=Math.min(e[r],s[r]),f=Math.max(e[i],s[i]),l={};return l[t]=o,l[n]=u,l[r]=a,l[i]=f,l},o=e.DOM;e.mix(o,{region:function(e){var t=o.getXY(e),n=!1;return e&&t&&(n=o._getRegion(t[1],t[0]+e.offsetWidth,t[1]+e.offsetHeight,t[0])),n},intersect:function(u,a,f){var l=f||o.region(u),c={},h=a,p;if(h.tagName)c=o.region(h);else{if(!e.Lang.isObject(a))return!1;c=a}return p=s(c,l),{top:p[t],right:p[n],bottom:p[r],left:p[i],area:(p[r]-p[t])*(p[n]-p[i]),yoff:p[r]-p[t],xoff:p[n]-p[i],inRegion:o.inRegion(u,a,!1,f)}},inRegion:function(u,a,f,l){var c={},h=l||o.region(u),p=a,d;if(p.tagName)c=o.region(p);else{if(!e.Lang.isObject(a))return!1;c=a}return f?h[i]>=c[i]&&h[n]<=c[n]&&h[t]>=c[t]&&h[r]<=c[r]:(d=s(c,h),d[r]>=d[t]&&d[n]>=d[i]?!0:!1)},inViewportRegion:function(e,t,n){return o.inRegion(e,o.viewportRegion(e),t,n)},_getRegion:function(e,s,o,u){var a={};return a[t]=a[1]=e,a[i]=a[0]=u,a[r]=o,a[n]=s,a.width=a[n]-a[i],a.height=a[r]-a[t],a},viewportRegion:function(t){t=t||e.config.doc.documentElement;var n=!1,r,i;return t&&(r=o.docScrollX(t),i=o.docScrollY(t),n=o._getRegion(i,o.winWidth(t)+r,i+o.winHeight(t),r)),n}})}(e)},"3.11.0",{requires:["dom-base","dom-style"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-screen",function(e,t){e.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(t){e.Node.ATTRS[t]={getter:function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e.Node.getDOMNode(this)),e.DOM[t].apply(this,n)}}}),e.Node.ATTRS.scrollLeft={getter:function(){var t=e.Node.getDOMNode(this);return"scrollLeft"in t?t.scrollLeft:e.DOM.docScrollX(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollLeft"in n?n.scrollLeft=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(t,e.DOM.docScrollY(n)))}},e.Node.ATTRS.scrollTop={getter:function(){var t=e.Node.getDOMNode(this);return"scrollTop"in t?t.scrollTop:e.DOM.docScrollY(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollTop"in n?n.scrollTop=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(e.DOM.docScrollX(n),t))}},e.Node.importMethod(e.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]),e.Node.ATTRS.region={getter:function(){var t=this.getDOMNode(),n;return t&&!t.tagName&&t.nodeType===9&&(t=t.documentElement),e.DOM.isWindow(t)?n=e.DOM.viewportRegion(t):n=e.DOM.region(t),n}},e.Node.ATTRS.viewportRegion={getter:function(){return e.DOM.viewportRegion(e.Node.getDOMNode(this))}},e.Node.importMethod(e.DOM,"inViewportRegion"),e.Node.prototype.intersect=function(t,n){var r=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.intersect(r,t,n)},e.Node.prototype.inRegion=function(t,n,r){var i=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.inRegion(i,t,n,r)}},"3.11.0",{requires:["dom-screen","node-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-xy",function(e,t){var n=Number;e.Anim.behaviors.xy={set:function(e,t,r,i,s,o,u){e._node.setXY([u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)])},get:function(e){return e._node.getXY()}}},"3.11.0",{requires:["anim-base","node-screen"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-curve",function(e,t){e.Anim.behaviors.curve={set:function(t,n,r,i,s,o,u){r=r.slice.call(r),i=i.slice.call(i);var a=u(s,0,100,o)/100;i.unshift(r),t._node.setXY(e.Anim.getBezier(i,a))},get:function(e){return e._node.getXY()}},e.Anim.getBezier=function(e,t){var n=e.length,r=[],i,s;for(i=0;i<n;++i)r[i]=[e[i][0],e[i][1]];for(s=1;s<n;++s)for(i=0;i<n-s;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}},"3.11.0",{requires:["anim-xy"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-easing",function(e,t){var n={easeNone:function(e,t,n,r){return n*e/r+t},easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeBoth:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutStrong:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeBothStrong:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},elasticIn:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t)},elasticOut:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t)},elasticBoth:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r/2)===2?t+n:(s||(s=r*.3*1.5),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),e<1?-0.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t)},backIn:function(e,t,n,r,i){return i===undefined&&(i=1.70158),e===r&&(e-=.001),n*(e/=r)*e*((i+1)*e-i)+t},backOut:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},backBoth:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},bounceIn:function(t,n,r,i){return r-e.Easing.bounceOut(i-t,0,r,i)+n},bounceOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(t,n,r,i){return t<i/2?e.Easing.bounceIn(t*2,0,r,i)*.5+n:e.Easing.bounceOut(t*2-i,0,r,i)*.5+r*.5+n}};e.Easing=n},"3.11.0",{requires:["anim-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-base",function(e,t){function r(){this._plugins={}}var n=e.Lang;r.prototype={plug:function(e,t){var r,i,s;if(n.isArray(e))for(r=0,i=e.length;r<i;r++)this.plug(e[r]);else e&&!n.isFunction(e)&&(t=e.cfg,e=e.fn),e&&e.NS&&(s=e.NS,t=t||{},t.host=this,this.hasPlugin(s)?this[s].setAttrs&&this[s].setAttrs(t):(this[s]=new e(t),this._plugins[s]=e));return this},unplug:function(e){var t=e,r=this._plugins;if(e)n.isFunction(e)&&(t=e.NS,t&&(!r[t]||r[t]!==e)&&(t=null)),t&&(this[t]&&(this[t].destroy&&this[t].destroy(),delete this[t]),r[t]&&delete r[t]);else for(t in this._plugins)this._plugins.hasOwnProperty(t)&&this.unplug(t);return this},hasPlugin:function(e){return this._plugins[e]&&this[e]},_initPlugins:function(e){this._plugins=this._plugins||{},this._initConfigPlugins&&this._initConfigPlugins(e)},_destroyPlugins:function(){this.unplug()}},e.namespace("Plugin").Host=r},"3.11.0",{requires:["yui-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("pluginhost-config",function(e,t){var n=e.Plugin.Host,r=e.Lang;n.prototype._initConfigPlugins=function(t){var n=this._getClasses?this._getClasses():[this.constructor],r=[],i={},s,o,u,a,f;for(o=n.length-1;o>=0;o--)s=n[o],a=s._UNPLUG,a&&e.mix(i,a,!0),u=s._PLUG,u&&e.mix(r,u,!0);for(f in r)r.hasOwnProperty(f)&&(i[f]||this.plug(r[f]));t&&t.plugins&&this.plug(t.plugins)},n.plug=function(t,n,i){var s,o,u,a;if(t!==e.Base){t._PLUG=t._PLUG||{},r.isArray(n)||(i&&(n={fn:n,cfg:i}),n=[n]);for(o=0,u=n.length;o<u;o++)s=n[o],a=s.NAME||s.fn.NAME,t._PLUG[a]=s}},n.unplug=function(t,n){var i,s,o,u;if(t!==e.Base){t._UNPLUG=t._UNPLUG||{},r.isArray(n)||(n=[n]);for(s=0,o=n.length;s<o;s++)i=n[s],u=i.NAME,t._PLUG[u]?delete t._PLUG[u]:t._UNPLUG[u]=i}}},"3.11.0",{requires:["pluginhost-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-pluginhost",function(e,t){e.Node.plug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.plug.apply(e.Base,t),e.Node},e.Node.unplug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.unplug.apply(e.Base,t),e.Node},e.mix(e.Node,e.Plugin.Host,!1,null,1),e.NodeList.prototype.plug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.plug.apply(e.one(n),t)}),this},e.NodeList.prototype.unplug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.unplug.apply(e.one(n),t)}),this}},"3.11.0",{requires:["node-base","pluginhost"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-node-plugin",function(e,t){var n=function(t){t=t?e.merge(t):{},t.node=t.host,n.superclass.constructor.apply(this,arguments)};n.NAME="nodefx",n.NS="fx",e.extend(n,e.Anim),e.namespace("Plugin"),e.Plugin.NodeFX=n},"3.11.0",{requires:["node-pluginhost","anim-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-scroll",function(e,t){var n=Number;e.Anim.behaviors.scroll={set:function(e,t,r,i,s,o,u){var a=e._node,f=[u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)];f[0]&&a.set("scrollLeft",f[0]),f[1]&&a.set("scrollTop",f[1])},get:function(e){var t=e._node;return[t.get("scrollLeft"),t.get("scrollTop")]}}},"3.11.0",{requires:["anim-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.11.0",{requires:["base-base","pluginhost"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-build",function(e,t){function f(e,t,n){n[e]&&(t[e]=(t[e]||[]).concat(n[e]))}function l(e,t,n){n._ATTR_CFG&&(t._ATTR_CFG_HASH=null,f.apply(null,arguments))}function c(e,t,r){n.modifyAttrs(t,r.ATTRS)}var n=e.BaseCore,r=e.Base,i=e.Lang,s="initializer",o="destructor",u=["_PLUG","_UNPLUG"],a;r._build=function(t,n,i,u,a,f){var l=r._build,c=l._ctor(n,f),h=l._cfg(n,f,i),p=l._mixCust,d=c._yuibuild.dynamic,v,m,g,y,b,w;for(v=0,m=i.length;v<m;v++)g=i[v],y=g.prototype,b=y[s],w=y[o],delete y[s],delete y[o],e.mix(c,g,!0,null,1),p(c,g,h),b&&(y[s]=b),w&&(y[o]=w),c._yuibuild.exts.push(g);return u&&e.mix(c.prototype,u,!0),a&&(e.mix(c,l._clean(a,h),!0),p(c,a,h)),c.prototype.hasImpl=l._impl,d&&(c.NAME=t,c.prototype.constructor=c,c.modifyAttrs=n.modifyAttrs),c},a=r._build,e.mix(a,{_mixCust:function(t,n,r){var s,o,u,a,f,l;r&&(s=r.aggregates,o=r.custom,u=r.statics),u&&e.mix(t,n,!0,u);if(s)for(l=0,f=s.length;l<f;l++)a=s[l],!t.hasOwnProperty(a)&&n.hasOwnProperty(a)&&(t[a]=i.isArray(n[a])?[]:{}),e.aggregate(t,n,!0,[a]);if(o)for(l in o)o.hasOwnProperty(l)&&o[l](l,t,n)},_tmpl:function(t){function n(){n.superclass.constructor.apply(this,arguments)}return e.extend(n,t),n},_impl:function(e){var t=this._getClasses(),n,r,i,s,o,u;for(n=0,r=t.length;n<r;n++){i=t[n];if(i._yuibuild){s=i._yuibuild.exts,o=s.length;for(u=0;u<o;u++)if(s[u]===e)return!0}}return!1},_ctor:function(e,t){var n=t&&!1===t.dynamic?!1:!0,r=n?a._tmpl(e):e,i=r._yuibuild;return i||(i=r._yuibuild={}),i.id=i.id||null,i.exts=i.exts||[],i.dynamic=n,r},_cfg:function(t,n,r){var i=[],s={},o=[],u,a=n&&n.aggregates,f=n&&n.custom,l=n&&n.statics,c=t,h,p;while(c&&c.prototype)u=c._buildCfg,u&&(u.aggregates&&(i=i.concat(u.aggregates)),u.custom&&e.mix(s,u.custom,!0),u.statics&&(o=o.concat(u.statics))),c=c.superclass?c.superclass.constructor:null;if(r)for(h=0,p=r.length;h<p;h++)c=r[h],u=c._buildCfg,u&&(u.aggregates&&(i=i.concat(u.aggregates)),u.custom&&e.mix(s,u.custom,!0),u.statics&&(o=o.concat(u.statics)));return a&&(i=i.concat(a)),f&&e.mix(s,n.cfgBuild,!0),l&&(o=o.concat(l)),{aggregates:i,custom:s,statics:o}},_clean:function(t,n){var r,i,s,o=e.merge(t),u=n.aggregates,a=n.custom;for(r in a)o.hasOwnProperty(r)&&delete o[r];for(i=0,s=u.length;i<s;i++)r=u[i],o.hasOwnProperty(r)&&delete o[r];return o}}),r.build=function(e,t,n,r){return a(e,t,n,null,null,r)},r.create=function(e,t,n,r,i){return a(e,t,n,r,i)},r.mix=function(e,t){return e._CACHED_CLASS_DATA&&(e._CACHED_CLASS_DATA=null),a(null,e,t,null,null,{dynamic:!1})},n._buildCfg={aggregates:u.concat(),custom:{ATTRS:c,_ATTR_CFG:l,_NON_ATTRS_CFG:f}},r._buildCfg={aggregates:u.concat(),custom:{ATTRS:c,_ATTR_CFG:l,_NON_ATTRS_CFG:f}}},"3.11.0",{requires:["base-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("json-stringify",function(e,t){var n=":",r=e.config.global.JSON;e.mix(e.namespace("JSON"),{dateToString:function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+n+t(e.getUTCMinutes())+n+t(e.getUTCSeconds())+"Z"},stringify:function(){return r.stringify.apply(r,arguments)},charCacheThreshold:100})},"3.11.0",{requires:["yui-base"]});
YUI.add("gallery-storage-lite",function(b){var s=b.config.doc,j=b.config.win,c=b.JSON,r=b.namespace("StorageLite"),i="yui_storage_lite",v="YUI StorageLite data",y=1048576,p="1.0",t="ready",x=0,h=1,a=2,m=3,k=4,f="yui_storage_lite",l="data",u={},n,g;try{if(j.localStorage){g=h}else{if(j.globalStorage){g=a;var o=j.globalStorage[j.location.hostname]}else{if(j.openDatabase&&navigator.userAgent.indexOf("Chrome")===-1){g=m}else{if(b.UA.ie>=5){g=k}else{g=x}}}}}catch(q){g=x}b.StorageFullError=function(d){b.StorageFullError.superclass.constructor.call(d);this.name="StorageFullError";this.message=d||"Maximum storage capacity reached";if(b.UA.ie){this.description=this.message}};b.extend(b.StorageFullError,Error);b.augment(r,b.EventTarget,true,null,{emitFacade:true,prefix:"storage-lite",preventable:false});r.publish(t,{fireOnce:true});b.mix(r,{clear:function(){},getItem:function(e,d){return null},length:function(){return 0},removeItem:function(d){},setItem:function(d,e){}});if(g===h||g===a){b.mix(r,{length:function(){return n.length},removeItem:function(d){n.removeItem(d)},setItem:function(e,w,d){n.setItem(e,d?c.stringify(w):w)}},true);if(g===h){n=j.localStorage;b.mix(r,{clear:function(){n.clear()},getItem:function(w,e){try{return e?c.parse(n.getItem(w)):n.getItem(w)}catch(d){return null}}},true)}else{if(g===a){n=j.globalStorage[j.location.hostname];b.mix(r,{clear:function(){for(var d in n){if(n.hasOwnProperty(d)){n.removeItem(d);delete n[d]}}},getItem:function(w,e){try{return e?c.parse(n[w].value):n[w].value}catch(d){return null}}},true)}}r.fire(t)}else{if(g===m||g===k){b.mix(r,{clear:function(){u={};r._save()},getItem:function(e,d){return u.hasOwnProperty(e)?u[e]:null},length:function(){var e=0,d;for(d in u){if(u.hasOwnProperty(d)){e+=1}}return e},removeItem:function(d){if(u){delete u[d];r._save()}else{u={}}},setItem:function(e,w,d){u[e]=w;r._save()}},true);if(g===m){n=j.openDatabase(i,p,v,y);b.mix(r,{_save:function(){n.transaction(function(d){d.executeSql("REPLACE INTO "+i+" (name, value) VALUES ('data', ?)",[c.stringify(u)])})}},true);n.transaction(function(d){d.executeSql("CREATE TABLE IF NOT EXISTS "+i+"(name TEXT PRIMARY KEY, value TEXT NOT NULL)");d.executeSql("SELECT value FROM "+i+" WHERE name = 'data'",[],function(z,w){if(w.rows.length){try{u=c.parse(w.rows.item(0).value)}catch(e){u={}}}r.fire(t)})})}else{if(g===k){n=s.createElement("span");n.addBehavior("#default#userData");b.mix(r,{_save:function(){var e=c.stringify(u);try{n.setAttribute(l,e);n.save(f)}catch(d){throw new b.StorageFullError()}}},true);b.on("domready",function(){s.body.appendChild(n);n.load(f);try{u=c.parse(n.getAttribute(l))}catch(d){u={}}r.fire(t)})}}}else{r.fire(t)}}},"1.0.0",{requires:["event-base","event-custom","event-custom-complex","json"]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-event-delegate",function(e,t){e.Node.prototype.delegate=function(t){var n=e.Array(arguments,0,!0),r=e.Lang.isObject(t)&&!e.Lang.isArray(t)?1:2;return n.splice(r,0,this._node),e.delegate.apply(e,n)}},"3.11.0",{requires:["node-base","event-delegate"]});
YUI.add("focus-tracker",function(e){var a=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i;function b(){var g;try{g=e.one(document.activeElement)}catch(f){console.warn("Caught error from document.activeElement",f);return false}return g}function c(){var f=b(),g;if(!f){return false}g=f.get("tagName").toUpperCase();if(g==="INPUT"){return a.test(f.get("type"))}else{if(g==="TEXTAREA"||g==="SELECT"){return true}}}function d(){var f=b();if(f&&e.Lang.isFunction(f.blur)){try{f.blur()}catch(g){}}}e.focusTracker={get:b,isInput:c,blur:d}},"0.0.1",{requires:F.config.modules["focus-tracker"].requires||[],optional:F.config.modules["focus-tracker"].optional||[]});YUI.add("sprintf",function(b){function a(e,d){for(var f=[];d>0;f[--d]=e){}return f.join("")}function c(){var h=0,l,j=arguments[h++],e=[],g,d,k,n,q="";while(j){if(g=/^[^\x25]+/.exec(j)){e.push(g[0])}else{if(g=/^\x25{2}/.exec(j)){e.push("%")}else{if(g=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(j)){if(((l=arguments[g[1]||h++])==null)||(l==undefined)){throw ("Too few arguments.")}if(/[^s]/.test(g[7])&&(typeof(l)!="number")){throw ("Expecting number but found "+typeof(l))}switch(g[7]){case"b":l=l.toString(2);break;case"c":l=String.fromCharCode(l);break;case"d":l=parseInt(l);break;case"e":l=g[6]?l.toExponential(g[6]):l.toExponential();break;case"f":l=g[6]?parseFloat(l).toFixed(g[6]):parseFloat(l);break;case"o":l=l.toString(8);break;case"s":l=((l=String(l))&&g[6]?l.substring(0,g[6]):l);break;case"u":l=Math.abs(l);break;case"x":l=l.toString(16);break;case"X":l=l.toString(16).toUpperCase();break}l=(/[def]/.test(g[7])&&g[2]&&l>=0?"+"+l:l);k=g[3]?g[3]=="0"?"0":g[3].charAt(1):" ";n=g[5]-String(l).length-q.length;d=g[5]?a(k,n):"";e.push(q+(g[4]?l+d:d+l))}else{throw ("sprintf failure")}}}j=j.substring(g[0].length)}return e.join("")}b.sprintf=c},"0.0.1");YUI.add("transjax-base",function(d){var a={};function c(f,e){if(!d.Lang.isObject(a[f])){a[f]={}}if(d.Lang.isObject(e)){d.mix(a[f],e)}}function b(){var g,l,k,f,e,j;g=Array.prototype.slice.call(arguments);l=g.shift();k=g.shift();e=a[l];if(arguments.length>1){if(d.Lang.isObject(e)){f=e[k]}if(d.Lang.isUndefined(f)){return k}g.unshift(f);return d.sprintf.apply(window,g)}else{j={};for(var h in e){if(e.hasOwnProperty(h)){j[h]=e[h]}}return j}}d.transjax={add:c,get:b}},"0.0.1",{requires:["sprintf"]});YUI.add("global-dialog-transjax",function(a){a.transjax.add("global-dialog",{button_confirm:'OKAY',button_cancel:'CANCEL'})},"0.0.1",{requires:["transjax-base"]});YUI.add("better-throttle",function(b){function a(h,f,i,e){var j,c;j=0;i=i||null;function k(){if(c){c.cancel();c=undefined}}function d(){k();h.apply(i,arguments)}function g(){var l=(new Date()).getTime();if(e){k()}else{if(l-j>f){j=l;d.apply(i,arguments);return}}if(!c){c=b.later(f,i,d,arguments)}}return g}b.betterThrottle=a},"0.0.1",{requires:[]});YUI.add("keyboard-shortcut-legend-transjax",function(a){a.transjax.add("keyboard-shortcut-legend",{header_no_context:'Keyboard shortcuts for this page',header_context:'Keyboard shortcuts for this view',instructions:'This dialog lists all of the keyboard shortcuts available on this particular page. Press any key on your keyboard to hear what it does.',enable_shortcuts:'Enable keyboard shortcuts',saving:'Saving...',saved:'Saved!',unable_to_save:'Unable to save',button_close:'CLOSE',shortcut_description:'Show all keyboard shortcuts',esc_description:'Close a dialog, like this one',esc_description_screenreader:'(press escape again to close this dialog)',general:'General',navigation:'Navigation',lightbox:'Light Box',map:'Map',actions:'Actions',you_can_reenable_shortcuts_in_prefs:'You can always <a href="/account/prefs/shortcuts/?from=extend">re-enable keyboard shortcuts</a> later in your account settings, under Sharing &amp; Extending.',change_layout:'change',qwerty_layout:'QWERTY layout',spanish_layout:'Spanish layout',qwertz_layout:'QWERTZ layout',azerty_layout:'AZERTY layout',dvorak_layout:'Dvorak layout',spanish:'Spanish',layout_selector_description:'Select a keyboard layout',up_arrow:'Up arrow',down_arrow:'Down arrow',left_arrow:'Left arrow',right_arrow:'Right arrow'})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-transjax"].requires||[]});YUI.add("keyboard-shortcut-legend-layouts",function(e){var d,c,f,b,a;d=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:189,sub:"-",sup:"_"},{keyCode:187,sub:"=",sup:"+"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:186,sub:";",sup:":"},{keyCode:222,sub:"'",sup:'"'},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:191,sub:"/",sup:"?"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];b=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"<",sup:">"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:222,sub:"'",sup:"?"},{sub:"",sup:""},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"`",sup:"^"},{keyCode:107,sub:"+",sup:"*"},{sub:"",sup:""}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"",sup:""},{sub:"",sup:""},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:90,sub:"Z",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"-",sup:"_"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];c=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"^",sup:""},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:'"'},{keyCode:51,sub:"3",sup:""},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"&"},{keyCode:55,sub:"7",sup:"/"},{keyCode:56,sub:"8",sup:"("},{keyCode:57,sub:"9",sup:")"},{keyCode:48,sub:"0",sup:"="},{keyCode:191,sub:"",sup:"?"},{sub:"",sup:"`"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:81,sub:"Q",sup:"@"},{keyCode:87,sub:"W",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"",sup:""},{keyCode:107,sub:"+",sup:"*"},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:65,sub:"A",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{sub:"",sup:""},{sub:"",sup:""},{sub:"#",sup:"'"},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:89,sub:"Y",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:188,sub:",",sup:";"},{keyCode:190,sub:".",sup:":"},{keyCode:109,sub:"_",sup:"-"},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];f=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{sub:"2",sup:"",className:"small-text"},{keyCode:49,sub:"1",sup:"&"},{keyCode:50,sub:"2",sup:""},{keyCode:51,sub:"3",sup:'"'},{keyCode:52,sub:"4",sup:"'"},{keyCode:53,sub:"5",sup:"("},{keyCode:54,sub:"6",sup:"-"},{keyCode:55,sub:"7",sup:""},{keyCode:56,sub:"8",sup:"_"},{keyCode:57,sub:"9",sup:""},{keyCode:48,sub:"0",sup:""},{sub:"",sup:")"},{keyCode:109,sub:"+",sup:"="},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:65,sub:"A",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:80,sub:"P",sup:""},{sub:"",sup:"^"},{sub:"$",sup:""},{keyCode:13,sub:"return",sup:"",className:"return-top"},{keyCode:13,sub:"",sup:"",className:"return-middle"}],[{keyCode:81,sub:"Q",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:77,sub:"M",sup:""},{sub:"",sup:"%"},{sub:"*",sup:""},{keyCode:13,sub:"",sup:"",className:"return"}],[{sub:"<",sup:">"},{keyCode:87,sub:"W",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:188,sub:",",sup:"?"},{keyCode:59,sub:";",sup:"."},{keyCode:191,sub:":",sup:"/"},{sub:"!",sup:""},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];a=[[{keyCode:27,sub:"esc",sup:"",className:"esc"},{sub:"F1",sup:"",className:"func"},{sub:"F2",sup:"",className:"func"},{sub:"F3",sup:"",className:"func"},{sub:"F4",sup:"",className:"func"},{sub:"F5",sup:"",className:"func"},{sub:"F6",sup:"",className:"func"},{sub:"F7",sup:"",className:"func"},{sub:"F8",sup:"",className:"func"},{sub:"F9",sup:"",className:"func"},{sub:"F10",sup:"",className:"func"},{sub:"F11",sup:"",className:"func"},{sub:"F12",sup:"",className:"func"},{sub:"F13",sup:"",className:"func"}],[{keyCode:192,sub:"`",sup:"~"},{keyCode:49,sub:"1",sup:"!"},{keyCode:50,sub:"2",sup:"@"},{keyCode:51,sub:"3",sup:"#"},{keyCode:52,sub:"4",sup:"$"},{keyCode:53,sub:"5",sup:"%"},{keyCode:54,sub:"6",sup:"^"},{keyCode:55,sub:"7",sup:"&"},{keyCode:56,sub:"8",sup:"*"},{keyCode:57,sub:"9",sup:"("},{keyCode:48,sub:"0",sup:")"},{keyCode:219,sub:"[",sup:"{"},{keyCode:221,sub:"]",sup:"}"},{keyCode:8,sub:"delete",sup:"",className:"delete"}],[{keyCode:222,sub:"'",sup:'"'},{keyCode:188,sub:",",sup:"<"},{keyCode:190,sub:".",sup:">"},{keyCode:80,sub:"P",sup:""},{keyCode:89,sub:"Y",sup:""},{keyCode:70,sub:"F",sup:""},{keyCode:71,sub:"G",sup:""},{keyCode:67,sub:"C",sup:""},{keyCode:82,sub:"R",sup:""},{keyCode:76,sub:"L",sup:""},{keyCode:191,sub:"/",sup:"?"},{keyCode:187,sub:"=",sup:"+"},{keyCode:220,sub:"\\",sup:"|"}],[{keyCode:65,sub:"A",sup:""},{keyCode:79,sub:"O",sup:""},{keyCode:69,sub:"E",sup:""},{keyCode:85,sub:"U",sup:""},{keyCode:73,sub:"I",sup:""},{keyCode:68,sub:"D",sup:""},{keyCode:72,sub:"H",sup:""},{keyCode:84,sub:"T",sup:""},{keyCode:78,sub:"N",sup:""},{keyCode:83,sub:"S",sup:""},{keyCode:189,sub:"-",sup:"_"},{keyCode:13,sub:"return",sup:"",className:"return"}],[{keyCode:186,sub:";",sup:":"},{keyCode:81,sub:"Q",sup:""},{keyCode:74,sub:"J",sup:""},{keyCode:75,sub:"K",sup:""},{keyCode:88,sub:"X",sup:""},{keyCode:66,sub:"B",sup:""},{keyCode:77,sub:"M",sup:""},{keyCode:87,sub:"W",sup:""},{keyCode:86,sub:"V",sup:""},{keyCode:90,sub:"Z",sup:""},{keyCode:16,sub:"shift",sup:"",className:"shift"},{keyCode:38,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","up_arrow")+"</span>&uarr;",sup:""}],[{keyCode:32,sub:"",sup:"",className:"space"},{keyCode:37,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","left_arrow")+"</span>&larr;",sup:""},{keyCode:40,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","down_arrow")+"</span>&darr;",sup:""},{keyCode:39,sub:'<span class="obscured">'+e.transjax.get("keyboard-shortcut-legend","right_arrow")+"</span>&rarr;",sup:"",className:"right-arrow"}]];e.keyboardShortcutLegendLayouts={qwerty:d,spanish:b,qwertz:c,azerty:f,dvorak:a}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend-layouts"].requires||[],optional:F.config.modules["keyboard-shortcut-legend-layouts"].optional||[]});(function(){var a="page-context";YUI.add(a,function(d){var f=[""];function e(g){if(f[f.length-1]!==g){f.push(g);d.fire("PageContext:set",{newVal:g,oldVal:f[f.length-2]||""});return true}return false}function c(h){var j,g=f.length;for(j=g-1;j>0;j-=1){if(f[j]===h){f.splice(j,1);d.fire("PageContext:unset",{newVal:f[f.length-1]||"",oldVal:h});return true}}return false}function b(){return f[f.length-1]}d.PageContext={set:e,unset:c,get:b}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("global-dialog",function(b){var a=function(){var c=this,e=(b.UA.ie&&(b.UA.ie<7||(typeof document.documentMode!=="undefined"?document.documentMode===5:false)||!document.compatMode.match(/css1compat/i)))||(navigator.userAgent.match(/(ipod|ipad|iphone)/i&&navigator.userAgent.match(/Version\/[1234]\s/i))),d="global_dialog",f=(b.UA.ie&&b.UA.ie<7);this.spinner=null;this.is_modal=false;this.events_on=false;this.o_shadows=null;this.is_showing=false;this.style=(typeof b.config!=="undefined"&&typeof b.config.flickr!=="undefined"&&!b.config.flickr.is_zeus?"style_2009":"default");this.last_style=null;this.on_escape_handler=null;this.esc_to_close=true;this.o=null;this.o_container=null;this.o_cover=null;this.timestamp=null;this.get_elements=function(){if(!c.o_cover){c.o_cover=b.one("#global-dialog-background")}if(!c.o||!c.o_container){c.o=b.one("#"+d);if(!c.o){return false}else{c.o_container=c.o.one("div.global_dialog_container");if(c.o){c.o_shadows={left:b.one("div.shadow_l"),right:b.one("div.shadow_r")};return true}}}else{return true}};this.reposition=function(){var h,g,i;if(e){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}}if(!c.get_elements()){if(e){if(c.spinner){c.spinner.style.top=(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px")}c.position_cover()}return false}h=parseInt(c.o_container.get("offsetHeight"),10);if(h&&c.o_shadows&&c.o_shadows.left&&c.o_shadows.right){c.o_shadows.left.setStyle("height",(h+"px"));c.o_shadows.right.setStyle("height",(h+"px"))}c.o.setStyle("marginLeft",-(c.o.get("offsetWidth")/2)+"px");c.o.setStyle("marginTop",-(c.o.get("offsetHeight")/2)+"px");c.o.setStyle("left","50%");c.o.setStyle("top","50%");if(e){c.o.setStyle("top",(i+parseInt((document.documentElement.clientHeight||document.body.clientHeight)/2,10)+"px"))}};this.show=function(g){if(typeof g!=="undefined"&&typeof g.loading!=="undefined"){c.set_loading(g.loading?true:false)}if(!c.get_elements()){return false}if(g&&g.esc_to_close===false){this.esc_to_close=false}else{this.esc_to_close=true}if(typeof g!=="undefined"){if((typeof g.modal==="undefined")||(typeof g.modal!=="undefined"&&g.modal!==false)){c.set_modal(true)}else{c.set_modal(false)}if(typeof g.style!=="undefined"){c.set_style(g.style)}else{c.set_style(c.style)}if(typeof g.width!=="undefined"){c.set_width(g.width)}c.set_short_message_style((typeof g.short_message!=="undefined"&&g.short_message))}else{c.set_modal(true)}if(!c.is_showing){if(g&&typeof g.left!=="undefined"){c.o.setStyle("left",g.left);c.o.setStyle("top",g.top);c.o.setStyle("display","block");c.is_showing=true}else{c.o.setStyle("left","-9999px");c.o.setStyle("top","-9999px");c.o.setStyle("display","block");c.reposition();c.is_showing=true}}};this.hide=function(g){if(b.focusTracker&&b.focusTracker.isInput()){b.focusTracker.blur()}c.set_modal();if(e){c.detach_events()}c.detach_key_events();if(g&&g.loading){c.set_loading(true)}else{c.set_loading(false)}if(!c.get_elements()){return false}if(c.is_showing){c.o.setStyle("display","none");c.is_showing=false}c.on_escape_handler=null;if(c.modal_remove_handler&&c.modal_remove_handler.detach){c.modal_remove_handler.detach()}if(c.modal_remove_key_handler&&c.modal_remove_key_handler.detach){c.modal_remove_key_handler.detach()}};this.set_width=function(g){if(!c.get_elements()){return false}if(g){c.o.setStyle("width","auto");c.o_container.setStyle("width",g+(g==="auto"?"":"px"))}else{c.o.setStyle("width","auto");c.o_container.setStyle("width",(b.UA.ie&&b.UA.ie<7?"334px":"320px"))}c.reposition()};this.set_style=function(g){if(!c.get_elements()){return false}if(c.last_style){c.o.removeClass(c.last_style)}if(g){c.o.addClass(g)}c.last_style=g;c.reposition()};this.set_short_message_style=function(g){c.use_short_message_style=g;if(!c.get_elements()){return false}c.o.removeClass("style_2009");if(g){c.o.removeClass("global_dialog");c.o.addClass("global-dialog-short-msg");if(c.is_modal){c.modal_remove_handler=c.o_cover.once("click",function(){c.hide()});c.modal_remove_key_handler=b.once("key",function(){if(!b.keyboardShortcutManager.isEnabled()){return}if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()},window,"down:13,27")}}else{c.o.removeClass("global-dialog-short-msg");c.o.addClass("global_dialog")}c.reposition()};this.set_spinner=function(g){if(g){if(!c.spinner){c.spinner=document.createElement("div");c.spinner.className="global_dialog_spinner";document.body.appendChild(c.spinner);if(e){c.position_cover()}}c.spinner.style.display="block"}else{if(c.spinner){c.spinner.style.display="none"}}};this.set_modal=function(g){c.is_modal=g;if(!c.o_cover){return false}if(g){if(e){c.o_cover.setStyle("position","absolute");c.position_cover();c.attach_events()}else{c.o_cover.setStyle("position","fixed")}c.attach_key_events();var h=35;c.o_cover.setStyle("backgroundColor","#000");c.o_cover.setStyle("opacity",h/100);c.o_cover.setStyle("MozOpacity",h/100);c.o_cover.setStyle("filter","alpha(opacity="+h+")");c.o_cover.setStyle("display","block")}else{c.o_cover.setStyle("position","absolute");c.o_cover.setStyle("display","none");c.detach_events();c.detach_key_events()}};this.set_loading=function(g){if(!c.o_cover){return false}if(g){c.set_spinner(g);c.o_cover.removeClass("loaded");c.o_cover.addClass("loading");if(!c.is_modal){c.set_modal(true)}}else{c.set_spinner(g);c.o_cover.removeClass("loading");c.o_cover.addClass("loaded");if(c.is_modal){c.set_modal(false)}}};this.set_aria=function(g){if(!g||typeof g!=="object"){return}if(g["aria-labelledby"]){c.o.setAttribute("aria-labelledby",g["aria-labelledby"])}if(g["aria-describedby"]){c.o.setAttribute("aria-describedby",g["aria-describedby"])}};this.remove_existing_dialog=function(){if(c.o){try{c.o._node.parentNode.removeChild(c.o._node);c.o=null;return true}catch(g){return false}}};this.create_dialog=function(j,h){if(c.o){c.remove_existing_dialog();c.o=null}c.timestamp=(new Date()).getTime();c.last_style=null;c.is_showing=false;var i=document.createElement("div");document.body.appendChild(i);c.o=b.one(i);c.o.set("id","global_dialog");c.o.set("className","global_dialog");c.o.setAttribute("role","dialog");var g="";if(b.config.flickr.flags.enable_global_dialog_maximizer){b.log("assign maximizer handler");c.o.on("click",function(k){if(k.target.test(".global-dialog-admin-maximizer a")){k.preventDefault();c.o.addClass("global-dialog-maximized")}});g='<div class="global-dialog-admin-maximizer">admins only: <a href="#">maximize global dialog</a></div>'}c.o.set("innerHTML",'<div id="global-dialog-container" class="global_dialog_container"><div class="wrapper">'+j+"</div>"+g+"</div>");c.o_container=null;c.get_elements();if(h&&h.style){c.set_style(h.style)}else{c.set_style(c.style)}if(h&&h.width){c.set_width(h.width)}else{c.set_width()}return c};this.create_confirmation_dialog=function(h,s,p){var n,q,o,i,j,g,m,t,l,r,k;if(b.Lang.isObject(h)){n=b.Lang.isString(h.hd)?h.hd:"";q=b.Lang.isString(h.bd)?h.bd:"";o=b.Lang.isString(h.ft)?h.ft:""}else{q=b.Lang.isString(h)?h:""}i={CONFIRM:b.transjax.get("global-dialog","button_confirm"),CANCEL:b.transjax.get("global-dialog","button_cancel"),width:330,loading:false,modal:true,confirm_butt_class:"Butt",cancel_butt_class:"CancelButt",checkboxes:[],photo:{},scope:window};if(!b.Lang.isObject(p)){p={}}i=b.mix(p,i);t=b.guid();l=b.guid();j="";if(i.photo&&i.photo.url){j='<div class="photo_container"><img src="'+i.photo.url+'"'+(i.photo.width?' width="'+i.photo.width+'"':"")+(i.photo.height?' height="'+i.photo.height+'"':"")+"></div>"}g="";if(i.checkboxes.length){b.Array.each(i.checkboxes,function(u){g+='<div><label><input type="checkbox">&nbsp; '+u+"</label></div>"})}k=' <input type="button" class="'+i.confirm_butt_class+'" value="'+i.CONFIRM+'" id="'+t+'">';if(i.confirm_butt_class==="BigAssButt"){k=' <a href="#" class="'+i.confirm_butt_class+'" id="'+t+'"><span></span>'+i.CONFIRM+"</a>"}m=(n?'<div class="hd">'+n+"</div>":"")+'<div class="bd">'+q+j+g+'</div><div class="bd button_container confirmation_button_container">'+k+' <input type="button" class="'+i.cancel_butt_class+'" value="'+i.CANCEL+'" id="'+l+'"></div>'+(o?'<div class="ft">'+o+"</div>":"");b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(m,i).show(i);r=b.delegate("click",function(v){var w,u;w=(v.target.get("id")===t);u={};if(i.checkboxes.length){u.checkboxes=[];c.o_container.all('input[type="checkbox"]').each(function(x){u.checkboxes.push(x.get("checked"))})}b.global_dialog.hide();if(b.Lang.isFunction(s)){s.apply(i.scope,[w,u])}v.preventDefault();r.detach()},c.o_container,'.button_container input[type="button"], .button_container a.BigAssButt')};this.create_alert_dialog=function(l,m,k){var h,j,i,g;h={CONFIRM:b.transjax.get("global-dialog","button_confirm"),width:330,loading:false,modal:true};if(!b.Lang.isObject(k)){k={}}h=b.mix(k,h);i=b.guid();j='<div class="hd">'+l+'</div><div class="bd button_container"> <input type="button" class="Butt" value="'+h.CONFIRM+'" id="'+i+'"></div>';b.global_dialog.remove_existing_dialog();b.global_dialog.create_dialog(j,h).show(h);b.delegate("click",function(){b.global_dialog.hide();if(b.Lang.isFunction(m)){m.apply(window,[true])}},this.o_container,"#"+i)};this.position_cover=function(h){var g,i;if(!h){h=b.one(c.o_cover)}c.get_elements();if(h){if(window.innerWidth){g=window.pageXOffset;i=window.pageYOffset}else{g=document.body.scrollLeft;i=document.body.scrollTop}h.setStyle("width","100%");h.setStyle("height",(b.one("body").get("offsetHeight"))+"px");h.setStyle("top",i+"px");h.setStyle("left",g+"px")}};this.legacy_resize_handler=function(){c.reposition();c.position_cover()};this.legacy_scroll_handler=function(){c.reposition();c.position_cover()};this.key_handler=function(h){if(!b.keyboardShortcutManager.isEnabled()){return}var g=h.which||h.keyCode;if(g===27){if(!this.esc_to_close){return}if(b.PageContext){b.PageContext.unset(b.PageContext.get())}c.hide()}};this.attach_events=function(){if(c.events_on){return false}c.events_on=true;if(!b.UA.ios){c.resize_event_handle=b.on("resize",c.legacy_resize_handler,window,c,true);c.scroll_event_handle=b.on("scroll",c.legacy_scroll_handler,window,c,true)}};this.attach_key_events=function(){c.key_event_handle=b.on("key",c.key_handler,window,"up:27",c,true)};this.detach_events=function(){if(!c.events_on){return false}c.events_on=false;if(c.resize_event_handle){c.resize_event_handle.detach()}if(c.scroll_event_handle){c.scroll_event_handle.detach()}};this.detach_key_events=function(){if(c.key_event_handle){c.key_event_handle.detach()}};this.get_elements()};b.global_dialog=new a()},"0.0.1",{requires:F.config.modules["global-dialog"].requires||[],optional:F.config.modules["global-dialog"].optional||[]});YUI.add("keyboard-shortcut-legend",function(c){var m=false,N="keyboard-shortcut-legend",L,E={},o=false,C=false,f,w,d=2000,x="keylayout",B,y,t,i,G,s,H,P=0,U=true,q=false,v,r=890,b=584,A=[],k=[c.transjax.get("keyboard-shortcut-legend","navigation"),c.transjax.get("keyboard-shortcut-legend","actions"),c.transjax.get("keyboard-shortcut-legend","lightbox"),c.transjax.get("keyboard-shortcut-legend","map"),c.transjax.get("keyboard-shortcut-legend","general")];function R(){c.all(".keyboard-shortcut-legend-trigger").on("click",J);B=c.Cookie.get(x)||u();m=true}function u(){var V="qwerty";if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){if(c.config.flickr.lang==="de-de"){V="qwertz"}else{if(c.config.flickr.lang==="fr-fr"){V="azerty"}else{if(c.config.flickr.lang==="es-us"){V="spanish"}}}}return V}function J(X){var W=c.PageContext.get(),V={};if(o){O(X);return}y=c.keyboardShortcutLegendLayouts[B];if(W!==""&&W!=="lightbox"&&W!=="flickrMap"){c.PageContext.unset(W);W=c.PageContext.get()}c.Array.each(A,function(Y,Z){if(Y.context===W||Y.context==="*"){c.Array.each(k,function(ab,aa){if(Y.group===ab){if(!V[ab]){V[ab]=[]}V[ab].push(Y)}})}});c.Array.each(k,function(Z,Y){if(V[Z]){V[Z].sort(K)}});if(E[W+B]){L=E[W+B]}else{L='<div class="hd keyboard-shortcut-legend-hd"><h2 id="keyboard-shortcut-legend-header">'+c.transjax.get("keyboard-shortcut-legend","header_"+(W===""?"no_context":"context"))+'</h2><label class="killswitch-container"><span class="spinner">'+c.transjax.get("keyboard-shortcut-legend","saving")+'</span><span class="success"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","saved")+'</span><span class="alert"><span class="msg-icon"></span>'+c.transjax.get("keyboard-shortcut-legend","unable_to_save")+'</span><input type="checkbox" class="killswitch" tabindex="1" checked>'+c.transjax.get("keyboard-shortcut-legend","enable_shortcuts")+'</label><a href="#" class="keyboard-shortcut-legend-close"></a></div><div class="bd keyboard-shortcut-legend-bd '+B+'-layout"><p id="keyboard-shortcut-legend-instructions" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","instructions")+"</p>";c.Array.each(y,function(Z,Y){L+='<ul class="keyboard-row row-'+Y+'">';c.Array.each(Z,function(aa){L+="<li"+(aa.className?' class="'+aa.className+'"':"")+' id="key-'+aa.keyCode+'"><span class="key-container"><a href="#" class="key-height" role="button" tabindex="-1"><span class="key">'+(aa.sup?'<span class="sup">'+aa.sup+"</span>":"")+(aa.sub?'<span class="sub">'+aa.sub+"</span>":"")+"</span></a></span></li>"});L+="</ul>"});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){L+='<div class="layout-tools"><span class="layout-description show"><span class="selected-layout">'+c.transjax.get("keyboard-shortcut-legend",B+"_layout")+'</span> (<a href="#" class="layout-change" role="button" tabindex="1">'+c.transjax.get("keyboard-shortcut-legend","change_layout")+'</a>)</span><span id="layout-selector-desc" class="obscured">'+c.transjax.get("keyboard-shortcut-legend","layout_selector_description")+'</span><select class="layout-selector" aria-label="layout-selector-desc"><option value="qwerty"'+(B==="qwerty"?" selected":"")+'>QWERTY</option><option value="spanish"'+(B==="spanish"?" selected":"")+">"+c.transjax.get("keyboard-shortcut-legend","spanish")+'</option><option value="qwertz"'+(B==="qwertz"?" selected":"")+'>QWERTZ</option><option value="azerty"'+(B==="azerty"?" selected":"")+'>AZERTY</option><option value="dvorak"'+(B==="dvorak"?" selected":"")+">Dvorak</option></select></div>"}L+='<hr><div class="shortcuts" role="document">';c.Array.each(k,function(Z,Y){if(V[Z]){L+='<div class="group"><h4>'+Z+"</h4><ul>";c.Array.each(V[Z],function(aa,ab){L+='<li id="shortcut-'+Y+"-"+ab+'"><kbd'+((aa.key==="&larr;"||aa.key==="&rarr;")?' class="arrow"':"")+">"+aa.key+'</kbd><span id="shortcut-'+Y+"-"+ab+'-desc">'+aa.description+"</span></li>"});L+="</ul></div>"}});L+='</div><div class="mask"></div></div>';E[W+B]=L}U=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);c.PageContext.set(N);c.global_dialog.remove_existing_dialog();c.global_dialog.create_dialog(L,{width:U?842:633}).show({loading:false,modal:true});c.global_dialog.set_aria({"aria-labelledby":"keyboard-shortcut-legend-header","aria-describedby":"keyboard-shortcut-legend-instructions"});o=true;f=c.one(".keyboard-shortcut-legend-hd .killswitch");f.set("checked",c.config.flickr.flags.enable_keyboard_shortcuts);if(q){q=false;c.one(".keyboard-shortcut-legend-bd .layout-tools .layout-change").focus()}else{f.focus()}h(f,true);if(!U){c.one(".keyboard-shortcut-legend-bd").addClass("mini");c.global_dialog.reposition()}c.Array.each(k,function(Z,Y){if(V[Z]){c.Array.each(V[Z],function(aa,ac){var ab=c.one("#shortcut-"+Y+"-"+ac),ad=false;c.Array.each(aa.keyCodes,function(af){var ae=c.one("#key-"+af);if(ae){ad=true;ae.addClass("highlight");ae.on(["focus","mouseover"],function(ag){z({blur:(ag.type==="mouseover")});ab.addClass("highlight")});ae.on(["blur","mouseout"],function(ag){z()});ab.on("mouseover",function(ag){z();ae.addClass("super-highlight")});ab.on("mouseout",function(ag){z()});ae.one("a.key-height").setAttribute("aria-describedby",ab.get("id")+"-desc")}});if(!ad){ab.remove()}})}});t=c.all(".keyboard-shortcut-legend-bd .keyboard-row li");i=c.all(".keyboard-shortcut-legend-bd .shortcuts li");c.once("click",O,".keyboard-shortcut-legend-close");c.keyboardShortcutManager.register({keystring:"27",handler:O,context:N});c.all(".keyboard-shortcut-legend-bd a.key-height").on("click",function(Y){Y.preventDefault()});c.all(".keyboard-shortcut-legend-hd .killswitch").on("click",function(Y){h(Y.target)});if(c.config.flickr.flags.enable_keyboard_shortcut_legend_keyboard_layouts){c.all(".keyboard-shortcut-legend-bd .layout-change").on("click",l);c.all(".keyboard-shortcut-legend-bd .layout-selector").on("change",g)}v=c.on("resize",c.betterThrottle(I,50));if(c.config.flickr.flags.enable_keyboard_shortcuts){H=true;c.keyboardShortcutManager.disable();e()}if(X&&X.preventDefault){X.preventDefault()}}function K(W,V){if(W.order>V.order){return 1}else{if(V.order>W.order){return -1}}return 0}function z(V){if(!V){V={}}if(V.blur&&s&&typeof s.blur==="function"){s.blur();s=null}t.removeClass("super-highlight");i.removeClass("highlight")}function I(W){var V=(c.DOM.winHeight()>b&&c.DOM.winWidth()>r);if(V!==U){O();J()}}function T(){S();c.one(".keyboard-shortcut-legend-hd .spinner").addClass("show");w=new Date().getTime()}function p(X){var V=new Date().getTime(),W=V-w;if(W>=d||!X){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)}else{setTimeout(function(){c.one(".keyboard-shortcut-legend-hd .spinner").removeClass("show");D(X)},d-W)}}function h(X,Y){var V=c.one(".keyboard-shortcut-legend-bd"),W=c.one(".keyboard-shortcut-legend-bd .mask");if(!Y){T()}if(X.get("checked")){if(W){W.setStyle("display","none")}if(!Y){Q(function(Z){p(Z);if(!Z){if(W){W.setStyle("display","block")}c.keyboardShortcutManager.disable();X.set("checked",false)}})}}else{W.setStyle("width",V.get("offsetWidth"));W.setStyle("height",V.get("offsetHeight"));W.setStyle("display","block");if(!Y){a(function(Z){p(Z);if(!Z){W.setStyle("display","none");c.keyboardShortcutManager.enable();X.set("checked",true)}})}}}function D(W){var V=c.one(W?".keyboard-shortcut-legend-hd .success":".keyboard-shortcut-legend-hd .alert");V.addClass("show");setTimeout(S,d)}function S(){c.all(".keyboard-shortcut-legend-hd .success, .keyboard-shortcut-legend-hd .alert").removeClass("show")}function Q(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:0},{success:function(){C=false;H=true;e();V(true)},failure:function(){V(false)}})}function a(V){if(!V){V=function(){}}c.flickrAPI.callMethod("flickr.prefs.setPrefs",{disable_keyboard_shortcuts:1},{success:function(){C=true;H=false;M();V(true)},failure:function(){V(false)}})}function l(V){c.one(".keyboard-shortcut-legend-bd .layout-description").removeClass("show");c.one(".keyboard-shortcut-legend-bd .layout-selector").addClass("show").focus();if(V&&typeof V.preventDefault==="function"){V.preventDefault()}}function g(W){var V;B=W.target.get("value");V={domain:".flickr.com",path:"/",expires:(new Date((new Date()).getTime()+10*365*60*60*24*1000))};c.Cookie.set(x,B,V);q=true;O();J()}function n(W){var V;if(W.keyCode===32&&W.target.test(".keyboard-shortcut-legend-bd .layout-tools .layout-change")){l(W);return}else{if(c.focusTracker.isInput()||W.altKey||W.ctrlKey||W.metaKey||W.keyCode===9||c.one(".keyboard-shortcut-legend-bd .layout-tools").contains(W.target)){return}else{if(W.keyCode===27){P++}if(P>1){O();P=0;W.preventDefault();return}V=c.one("#key-"+W.keyCode);if(V){s=V.one("a.key-height");s.focus()}W.preventDefault()}}}function e(){G=c.on("key",n,"html","down:")}function M(){if(G&&typeof G.detach==="function"){G.detach()}}function O(V){c.global_dialog.remove_existing_dialog();c.global_dialog.hide();c.PageContext.unset(N);v.detach();M();if(H){c.keyboardShortcutManager.enable()}o=false;if(C){c.global_dialog.create_alert_dialog('<span class="reenable-msg">'+c.transjax.get("keyboard-shortcut-legend","you_can_reenable_shortcuts_in_prefs")+"</span>",c.global_dialog.hide,{width:280})}if(V&&V.preventDefault){V.preventDefault()}}function j(V){if(!m){R()}if(!V.context){V.context=""}if(!V.group){V.group=c.transjax.get("keyboard-shortcut-legend","general")}if(!V.order&&V.order!==0){V.order=50}A.push(V)}c.keyboardShortcutLegend={show:J,hide:O,register:j};j({keyCodes:[191,109],key:"?",description:c.transjax.get("keyboard-shortcut-legend","shortcut_description"),context:"*",order:0});j({keyCodes:[27],key:"esc",description:c.transjax.get("keyboard-shortcut-legend","esc_description")+' <span class="obscured">'+c.transjax.get("keyboard-shortcut-legend","esc_description_screenreader")+"</span>",context:"*",order:1})},"0.0.1",{requires:F.config.modules["keyboard-shortcut-legend"].requires||[],optional:F.config.modules["keyboard-shortcut-legend"].optional||[]});YUI.add("keyboard-shortcut-manager",function(c){var j=[],e,i=false,a=c.UA,g=false,h,d;d={altKey:false,ctrlKey:false,shiftKey:false,metaKey:false};function k(p){var o=c.merge(d,{}),n=true;if(!i){return}e=c.PageContext.get();if(c.focusTracker.isInput()){return}else{if(p.altKey){o.altKey=true}if(p.ctrlKey){o.ctrlKey=true}if(p.metaKey){o.metaKey=true}if(p.shiftKey){o.shiftKey=true}if(j[p.keyCode]){c.Object.each(j[p.keyCode],function(s,r,q){n=true;c.Object.each(s.modifiers,function(u,t,v){if(n&&u!==o[t]){n=false}});if(n&&(s.context[0]==="*"||c.Array.indexOf(s.context,e)>-1)){s.handler.call(s.scope,p)}},this)}}}function l(s,z,n,A,x){var r,w,q,u,p,v,t,y;if(typeof arguments[0]==="object"){r=arguments[0];w=r.legend;s=r.keystring;z=r.handler;n=r.context;A=r.scope;x=r.modifiers}x=c.merge(d,x);if(c.Lang.isString(n)){n=[n]}if(!g){m()}q=s.split(",");u=q.length;p=A||window;v=c.guid();if(F&&F.keyListener){F.keyListener.detach(q)}for(t=0;t<u;t++){y=parseInt(q[t],10);if(!j[y]){j[y]={}}j[y][v]={handler:z,context:n,modifiers:x,scope:p}}if(c.config.flickr.flags.enable_keyboard_shortcut_legend&&c.keyboardShortcutLegend&&c.keyboardShortcutLegend.register&&w){c.Array.each(n,function(o){var B=c.clone(w,true);B.keyCodes=q;B.context=o;c.keyboardShortcutLegend.register(B)})}return{detach:function(){for(t=0;t<u;t++){y=parseInt(q[t],10);if(j[y]&&j[y][v]){j[y][v]=undefined;delete j[y][v]}}}}}function b(){h=c.on("key",k,"html","down:")}function f(){if(c.keyboardShortcutLegend&&c.keyboardShortcutLegend.show){l({keystring:"191,109",handler:c.keyboardShortcutLegend.show,context:"*"});l({keystring:"191",handler:c.keyboardShortcutLegend.show,context:"*",modifiers:{shiftKey:true}})}}function m(){if(F&&F.keyListener){if(F.keyListener.enabled&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}else{i=false}}else{if((a.gecko||a.webkit>531||a.ie>7||a.opera>11)&&c.config.flickr.flags.enable_keyboard_shortcuts){i=true}}if(i){b()}g=true;if(i&&c.config.flickr.flags.enable_keyboard_shortcut_legend){f()}}c.keyboardShortcutManager={register:l,isEnabled:function(){return i},disable:function(){i=false;c.config.flickr.flags.enable_keyboard_shortcuts=false},enable:function(){i=true;c.config.flickr.flags.enable_keyboard_shortcuts=true},destroy:function(){i=false;g=false;if(h){h.detach()}}}},"0.0.1",{requires:F.config.modules["keyboard-shortcut-manager"].requires});YUI.add("occult",function(e){if(typeof window.FLICKR==="undefined"){window.FLICKR={};var d=window.FLICKR}function c(){var f=arguments,l=null,h,g,k;for(h=0;h<f.length;h=h+1){k=(""+f[h]).split(".");l=FLICKR;for(g=(k[0]=="FLICKR")?1:0;g<k.length;g=g+1){l[k[g]]=l[k[g]]||{};l=l[k[g]]}}return l}function b(h,l){c(h);var g=h.split("."),f=g.length,k=FLICKR;for(var j=0;j<g.length-1;j++){k=k[g[j]]}k[g[f-1]]=l}function a(f,g){return d[f]}e.occult={register:b,get:a}},"0.0.1",{});(function(){var a="urls";YUI.add(a,function(b){var h={photo:/^\/photos\/([^\/]+)\/(\d+)(?:\/in\/([^\/]+))?(?:(?:\/page(\d+))|(?:\/(lightbox))|(?:\/(tour)))?/,photostream:/^\/photos\/([^\/]+)(?:\/page(\d+))?(?:\/with\/(\d+))?\/?(lightbox\/?)?/,delete_photo:/^\/photos\/([^\/]+)\/?\?delete=(\d+)(?:&context=([^&]+))?/,faves:/^\/photos\/([^\/]+)\/favorites(?:\/from\/([^\/]+))?(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/,explore:/^\/explore\/?(\d{4}\/\d{2}\/\d{2})?(?:\/?with\/([0-9]+))?\/?(lightbox\/?)?/,group_pool:/^\/groups\/([^\/]+)\/?(?:pool)?(?:\/((?:(?!with|page|lightbox)[^\/\?])+))?(?:\/with\/(\d+))?(?:\/page(\d+))?(\/lightbox)?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/,gallery:/^\/photos\/([^\/]+)\/galleries\/([0-9]+)(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?/,contacts:/^\/photos\/(?:friends|contacts)(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/,contactsfaves:/^\/photos\/contacts\/favorites(?:\/page(\d+))?(?:\/with\/(\d+))?(?:\/(lightbox))?\/?(?:\?(?:[^&]*&)?view=([^&]+))?/};function e(r,t){var q,s={};if(!h[r]){b.log('[urls] no regex found for page_type "'+r+'"');return}q=h[r].exec(t);switch(r){case"photo":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.photo_id=q[2];s.context_id=q[3]&&decodeURIComponent(q[3]);s.page=q[4];s.lightbox=q[5]?true:false;s.tour=q[6]?true:false;break;case"photostream":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.page=q[2];s.photo_id=q[3];s.lightbox=q[4]?true:false;break;case"delete_photo":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.photo_id=q[2];s.context_id=q[3];break;case"faves":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.from=q[2]&&decodeURIComponent(q[2]);s.page=q[3];s.photo_id=q[4];s.lightbox=q[5]?true:false;s.view_mode=q[6];break;case"group_pool":s.group_id=q[1]&&decodeURIComponent(q[1]);s.owner_id=q[2]&&decodeURIComponent(q[2]);s.photo_id=q[3];s.page=q[4];s.lightbox=q[5]?true:false;s.view_mode=q[6];break;case"gallery":s.path_alias=q[1]&&decodeURIComponent(q[1]);s.gallery_id=q[2]&&decodeURIComponent(q[2]);s.page=q[3];s.photo_id=q[4];s.lightbox=q[5]?true:false;break;case"contacts":s.page=q[1];s.photo_id=q[2];s.lightbox=q[3]?true:false;s.view_mode=q[4];break;case"contactsfaves":s.page=q[1];s.photo_id=q[2];s.lightbox=q[3]?true:false;s.view_mode=q[4];break;case"explore":s.date=q[1];s.photo_id=q[2];s.lightbox=q[3]}return s}function c(s,r){var q;r=r||{};if(r.photo&&b.Lang.isString(r.photo)){r.photo_id=r.photo;if(b.PhotoData){r.photo=b.PhotoData.get(r.photo)}if(!b.Lang.isObject(r.photo)){r.photo=undefined;delete r.photo}}if(b.Lang.isObject(r.photo)){r.photo_id=r.photo.get("id")}switch(s){case"photo":q=p(r);break;case"photostream":q=l(r);break;case"delete_photo":q=o(r);break;case"faves":q=n(r);break;case"group_pool":q=i(r);break;case"gallery":q=d(r);break;case"contacts":q=m(r);break;case"contactsfaves":q=k(r);break;case"explore":q=g(r);break}return q}function p(v){var s,t,u,r,z,x,B,y,A,w,q;s=v.photo;t=v.photo_id;u=v.path_alias;if(!b.Lang.isObject(s)&&!t){b.log("[urls] missing photo object or ID");return}if(!b.Lang.isObject(s)&&!u){b.log("[urls] missing photo object or path alias");return}t=t||s.get("id");u=u||s.get("pathalias")||s.get("owner");if(v.context){if(b.Lang.isString(v.context)){r=v.context}else{if(b.Lang.isObject(v.context)&&b.Lang.isString(v.context.id)){r=v.context.id}}}if(v.page){z=parseInt(v.page,10);if(z===1||!b.Lang.isNumber(z)){z=false}}x=b.Lang.isBoolean(v.lightbox)?v.lightbox:false;B=(b.Lang.isBoolean(v.sizes)||b.Lang.isString(v.sizes))?v.sizes:false;y=b.Lang.isString(v.hash)?v.hash:false;A=b.Lang.isBoolean(v.exif)?v.exif:false;w=b.Lang.isBoolean(v.faves)?v.faves:false;q=b.Lang.isBoolean(v.details)?v.details:false;return"/photos/"+u+"/"+t+"/"+(B?"sizes/"+(b.Lang.isString(B)?B+"/":""):"")+(A?"meta/":"")+(w?"favorites/":"")+(q?"edit-details/":"")+(r?("in/"+r+"/"):"")+(z?"page"+z+"/":"")+(x?"lightbox/":"")+(y?"#"+y:"")}function l(r){var s,q;if(r.photo){r.path_alias=r.photo.get("pathalias")||r.photo.get("owner")}s=r.path_alias;if(!s){b.log("[urls] missing path_alias");return}q="/photos/"+s+"/";if(r.person){q+="people/"+r.person+"/"}else{if(r.tag){if(b.Lang.isArray(r.tag)){r.tag=r.tag.join(",")}q+="tags/"+r.tag+"/"}else{if(r.photo_id){q+="with/"+r.photo_id+"/"}}}if(r.lightbox){q+="lightbox/"}return q}function o(r){var s,q;s=r.path_alias;if(!s){b.log("[urls] missing path_alias");return}photo_id=r.photo_id;if(!photo_id){b.log("[urls] missing photo_id");return}context_id=r.context_id;q="/photos/"+s+"/?delete="+photo_id+(context_id?"&context="+context_id:"")+"&magic_cookie="+b.config.flickr.magic_cookie;return q}function n(r){var s,q;s=r.path_alias;if(!s){b.log("[urls] missing path_alias");return}q="/photos/"+s+"/favorites/";if(r.from){q+="from/"+r.from+"/"}if(r.page){q+="page"+r.page+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function i(r){var s,q;s=r.group_id;if(!s){b.log("[urls] missing group_id");return}q="/groups/"+s+"/pool/";if(r.owner_id){q+=r.owner_id+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.page){q+="page"+r.page+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function m(r){var q;q="/photos/friends/";if(r.page){q+="page"+r.page+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function k(r){var q;q="/photos/contacts/favorites/";if(r.page){q+="page"+r.page+"/"}if(r.photo_id){q+="with/"+r.photo_id+"/"}if(r.lightbox){q+="lightbox/"}if(r.view_mode){q+="?view="+r.view_mode}return q}function d(s){var t,q,r;t=s.path_alias;q=s.gallery_id;if(!t){b.log("[urls] missing path_alias");return}if(!q){b.log("[urls] missing gallery_id");return}r="/photos/"+t+"/galleries/"+q+"/";if(s.photo_id){r+="with/"+s.photo_id+"/"}if(s.lightbox){r+="lightbox/"}return r}function g(s){var r,t,q;r=s.date;t=s.with_id;q="/explore";if(r){q+="/"+r}if(t){q+="/with/"+t}if(s.lightbox){q+="lightbox/"}return q}function j(r){if(!b.Lang.isNumber(r)){r=parseInt(r,10)}var q="",t="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";var u=r,s;while(r>=58){u=r/58;s=r-(58*Math.floor(u));q=""+t.substr(s,1)+q;r=Math.floor(u)}return(u)?""+t.substr(u,1)+q:q}function f(v){var u="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";var r=v.length;var q=0;var t=1;for(var s=(r-1);s>=0;s--){q=q+t*u.indexOf(v[s]);t=t*u.length}return q}b.urls={get:c,parse:e,getShortID:j,getLongID:f,regexes:h}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("photo-transjax",function(a){a.transjax.add("photo",{your_favorites:'Your favorites',untitled:'Untitled',window_title:'%s | Flickr - Photo Sharing!'})},"0.0.1",{requires:["transjax-base"]});(function(){var a="type-cast";YUI.add(a,function(h){function e(i){if(h.Lang.isNumber(i)){i=i+""}return h.Lang.isString(i)?i:""}function c(i){if(i==="0"){i=0}return !!i}function d(i){i=parseInt(i,10);if(!h.Lang.isNumber(i)){return undefined}return i}function f(i){i=d(i);if(!h.Lang.isNumber(i)||i<0||i>3){return undefined}return i}function b(i){return h.Lang.isArray(i)?i:[]}function g(i){return h.Lang.isObject(i)?i:{}}h.TypeCast={string:e,bool:c,integer:d,integer0123:f,arr:b,obj:g}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());YUI.add("photo-data",function(g){var b={},a=g.TypeCast;function f(i){var h;if(i instanceof d){h=i}else{if(b[i.id]){h=b[i.id];h.merge_data(i)}else{h=new d(i);b[i.id]=h}}return h}function c(h){if(typeof h==="undefined"){return b}else{return b[h]}}function e(h){return g.Lang.isNumber(h)&&parseInt(h,10)===h}g.PhotoData={add:f,get:c};function d(h){d.superclass.constructor.apply(this,arguments)}d.NAME="PhotoData";d.ATTRS={id:{value:""},title:{broadcast:1,value:"",setter:function(i,h){i=a.string(i);return i.replace(/^\s+$/,"")}},description:{broadcast:1,value:"",setter:a.string},owner:{value:"",setter:function(h){if(!g.Lang.isString(h)){if(g.Lang.isObject(h)&&h.nsid){h=h.nsid}else{h=""}}return h}},ownername:{value:""},pathalias:{value:""},iconserver:{value:""},iconfarm:{value:""},url:{value:"",getter:function(i,h){return g.urls.get("photo",{photo:this})}},date_posted:{broadcast:1,getter:a.integer},is_public:{broadcast:1,getter:a.bool},is_friend:{broadcast:1,getter:a.bool},is_family:{broadcast:1,getter:a.bool},perm_comment:{broadcast:1,getter:a.integer0123},perm_addmeta:{broadcast:1,getter:a.integer0123},perms:{getter:function(){return{is_public:this.get("is_public"),is_friend:this.get("is_friend"),is_family:this.get("is_family"),perm_comment:this.get("perm_comment"),perm_addmeta:this.get("perm_addmeta")}}},license:{broadcast:1,getter:a.integer,setter:a.integer},safety_level:{broadcast:1,getter:a.integer,setter:a.integer},needs_interstitial:{broadcast:1,value:false,getter:a.bool,setter:a.bool},media:{broadcast:1,value:"photo"},is_video:{getter:function(){return(this.get("media")==="video")}},secret:{value:""},deleted:{value:false},dmca_takedown:{value:false},geo:{broadcast:1,getter:function(h){if(!g.Lang.isObject(h)){h={}}return h}},has_geo:{getter:function(){var h=this.get("geo");return(h&&h.latitude&&h.longitude&&h.accuracy)}},exif_latlong:{},perm_viewgeo:{broadcast:1,value:false},is_bad:{broadcast:1,getter:a.integer,setter:a.integer},content_type:{broadcast:1,getter:a.integer,setter:a.integer},is_fave:{broadcast:1,value:false,setter:function(j,h){j=a.bool(j);var i=this.get(h);if(j!==i){if(j){this.increment("fave_count")}else{this.decrement("fave_count")}}if(this.get("fave_changes_pending")===0){this.set("is_confirmed_fave",j)}return j},getter:a.bool},is_confirmed_fave:{value:undefined},fave_changes_pending:{value:0},fave_count:{broadcast:1,value:0,getter:a.integer,setter:a.integer},comment_count:{broadcast:1,value:0,getter:a.integer,setter:a.integer},can_addmeta:{value:false,getter:a.bool},can_comment:{value:false,getter:a.bool},can_fave:{value:false,getter:function(){if(this.get("is_ignored")){return false}if(this.get("dmca_takedown")){return false}if(this.get("is_owner")){return false}if(!g.config.flickr.user.nsid&&!g.config.flickr.flags.enable_grease){return false}return true}},group_count:{broadcast:1,getter:a.integer,setter:a.integer},people_count:{broadcast:1,getter:a.integer,setter:a.integer},guestpass_count:{broadcast:1,getter:a.integer,setter:a.integer},is_owner:{value:false,getter:function(){return g.config.flickr.user.nsid&&g.config.flickr.user.nsid===this.get("owner")}},is_ignored:{value:false},tags:{broadcast:1,getter:a.arr},sizes:{value:{},getter:function(m,i){var j,l,h,k;m=a.obj(m);if(g.config.flickr.flags.enable_2048_images){j=m.o||m.l||m.z;if(j&&(j.width>=2048||j.height>=2048)){l=j.width/j.height;if(l>1){k=2048;h=Math.round(2048/l)}else{h=2048;k=Math.round(2048*l)}m["2048"]={url:m.t.url.replace("_t","_2048"),height:h+"",width:k+"",label:"2048"}}}return m}}};g.extend(d,g.Base,{initializer:function(h){this.merge_data(h)},merge_data:function(i){var j,h;if(typeof i.id!=="undefined"&&i.id!==this.get("id")){this.set("id",i.id)}if(typeof i.title!=="undefined"&&i.title!==this.get("title")){this.set("title",i.title)}if(typeof i.description!=="undefined"&&i.description!==this.get("description")){this.set("description",i.description)}if(typeof i.owner!=="undefined"&&i.owner!==this.get("owner")){this.set("owner",i.owner)}if(typeof i.ownername!=="undefined"&&i.ownername!==this.get("ownername")){this.set("ownername",i.ownername)}if(typeof i.pathalias!=="undefined"&&i.pathalias!==this.get("pathalias")){this.set("pathalias",i.pathalias)}if(typeof i.iconserver!=="undefined"&&i.iconserver!==this.get("iconserver")){this.set("iconserver",i.iconserver)}if(typeof i.iconfarm!=="undefined"&&i.iconfarm!==this.get("iconfarm")){this.set("iconfarm",i.iconfarm)}if(typeof i.url!=="undefined"&&i.url!==this.get("url")){this.set("url",i.url)}if(typeof i.date_posted!=="undefined"&&i.date_posted!==this.get("date_posted")){this.set("date_posted",i.date_posted)}if(typeof i.date_taken!=="undefined"&&i.date_taken!==this.get("date_taken")){this.set("date_taken",i.date_taken)}if(typeof i.is_public!=="undefined"&&i.is_public!==this.get("is_public")){this.set("is_public",i.is_public)}if(typeof i.is_friend!=="undefined"&&i.is_friend!==this.get("is_friend")){this.set("is_friend",i.is_friend)}if(typeof i.is_family!=="undefined"&&i.is_family!==this.get("is_family")){this.set("is_family",i.is_family)}if(typeof i.can_comment!=="undefined"&&i.can_comment!==this.get("can_comment")){this.set("can_comment",i.can_comment)}if(typeof i.can_addmeta!=="undefined"&&i.can_addmeta!==this.get("can_addmeta")){this.set("can_addmeta",i.can_addmeta)}if(typeof i.perm_comment!=="undefined"&&i.perm_comment!==this.get("perm_comment")){this.set("perm_comment",i.perm_comment)}if(typeof i.perm_addmeta!=="undefined"&&i.perm_addmeta!==this.get("perm_addmeta")){this.set("perm_addmeta",i.perm_addmeta)}if(typeof i.license!=="undefined"&&i.license!==this.get("license")){this.set("license",i.license)}if(typeof i.needs_interstitial!=="undefined"&&i.needs_interstitial!==this.get("needs_interstitial")){this.set("needs_interstitial",i.needs_interstitial)}if(typeof i.safety_level!=="undefined"&&i.safety_level!==this.get("safety_level")){this.set("safety_level",i.safety_level)}if(typeof i.media!=="undefined"&&i.media!==this.get("media")){this.set("media",i.media)}if(typeof i.secret!=="undefined"&&i.secret!==this.get("secret")){this.set("secret",i.secret)}if(typeof i.is_bad!=="undefined"&&i.is_bad!==this.get("is_bad")){this.set("is_bad",i.is_bad)}if(typeof i.content_type!=="undefined"&&i.content_type!==this.get("content_type")){this.set("content_type",i.content_type)}if(typeof i.is_faved!=="undefined"&&i.is_faved!==this.get("is_fave")){this.set("is_fave",i.is_faved)}if(typeof i.is_fave!=="undefined"&&i.is_fave!==this.get("is_fave")){this.set("is_fave",i.is_fave)}if(typeof i.fave_count!=="undefined"&&i.fave_count!==this.get("fave_count")){this.set("fave_count",i.fave_count)}if(typeof i.count_faves!=="undefined"&&i.count_faves!==this.get("fave_count")){this.set("fave_count",i.count_faves)}if(typeof i.comment_count!=="undefined"&&i.comment_count!==this.get("comment_count")){this.set("comment_count",i.comment_count)}if(typeof i.count_comments!=="undefined"&&i.count_comments!==this.get("comment_count")){this.set("comment_count",i.count_comments)}if(typeof i.geo!=="undefined"&&i.geo!==this.get("geo")){this.set("geo",i.geo)}if(typeof i.exif_latlong!=="undefined"&&i.exif_latlong!==this.get("exif_latlong")){this.set("exif_latlong",i.exif_latlong)}if(typeof i.perm_viewgeo!=="undefined"&&i.perm_viewgeo!==this.get("perm_viewgeo")){this.set("perm_viewgeo",i.perm_viewgeo)}if(typeof i.woe!=="undefined"&&i.woe!==this.get("woe")){this.set("woe",i.woe)}if(typeof i.tags!=="undefined"&&i.tags!==this.get("tags")){this.set("tags",i.tags)}if(typeof i.group_count!=="undefined"&&i.group_count!==this.get("group_count")){this.set("group_count",i.group_count)}if(typeof i.people_count!=="undefined"&&i.people_count!==this.get("people_count")){this.set("people_count",i.people_count)}if(typeof i.guestpass_count!=="undefined"&&i.guestpass_count!==this.get("guestpass_count")){this.set("guestpass_count",i.guestpass_count)}if(i.sizes&&g.Lang.isObject(i.sizes)){j=i.sizes}else{j={};if(i.url_sq){j.sq={url:i.url_sq,width:parseInt(i.width_sq,10),height:parseInt(i.height_sq,10)}}if(i.url_t){j.t={url:i.url_t,width:parseInt(i.width_t,10),height:parseInt(i.height_t,10)}}if(i.url_s){j.s={url:i.url_s,width:parseInt(i.width_s,10),height:parseInt(i.height_s,10)}}if(i.url_m){j.m={url:i.url_m,width:parseInt(i.width_m,10),height:parseInt(i.height_m,10)}}if(i.url_z){j.z={url:i.url_z,width:parseInt(i.width_z,10),height:parseInt(i.height_z,10)}}if(i.url_l){j.l={url:i.url_l,width:parseInt(i.width_l,10),height:parseInt(i.height_l,10)}}if(i.url_h){j.h={url:i.url_h,width:parseInt(i.width_h,10),height:parseInt(i.height_h,10)}}if(i.url_k){j.k={url:i.url_k,width:parseInt(i.width_k,10),height:parseInt(i.height_k,10)}}if(i.url_o){j.o={url:i.url_o,width:parseInt(i.width_o,10),height:parseInt(i.height_o,10)}}if(i.media==="video"){if(i.height_v){j.v={width:parseInt(i.width_v,10),height:parseInt(i.height_v,10)}}}}if(g.Object.size(j)){h=this.get("sizes")||{};g.Object.each(h,function(k,l){if(j[l]){j[l]=g.merge(k,j[l])}});this.set("sizes",g.merge(h,j))}},toggle_fave:function(j){var i=this,h,m,k,l;if(!this.get("can_fave")){return}if(g.config.flickr.flags.enable_grease&&!g.config.flickr.user.nsid){g.grease.addFave(this.get("id"));g.grease.authenticate();return}h=!this.get("is_fave");m="flickr.favorites."+(h?"add":"remove");k={photo_id:this.get("id")};l={success:function(){var n,o,p,q;n=i.get("id");i.decrement("fave_changes_pending");i.set("is_confirmed_fave",h);if(i.get("fave_changes_pending")===0){i.set("is_fave",h)}o="faves-"+(g.config.flickr.user.pathalias?g.config.flickr.user.pathalias:g.config.flickr.user.nsid);p=g.ContextData.getContext(o);if(p){q=p.getPhotoPosition(n)}if(h){if(p){if(g.ContextData.getPrevLimit(o)===q){g.ContextData.unremovePhoto(o,q)}else{g.ContextData.invalidate(o)}}else{if(g.config.flickr.page_type==="photo"&&i.get("id")===g.photo.getCurrentPhoto().get("id")){g.ContextData.add({id:o,user_id:g.config.flickr.user.nsid,type:"faves",title:g.transjax.get("photo","your_favorites"),url:g.config.flickr.user.photos_url+"favorites/",photos:[{position:"0",photo:i}]})}}}else{if(p&&g.Lang.isNumber(q)){g.ContextData.removePhoto(o,q)}}},failure:function(){i.decrement("fave_changes_pending");if(i.get("fave_changes_pending")===0){i.set("is_fave",i.get("is_confirmed_fave"))}}};this.set("is_fave",h);this.increment("fave_changes_pending");g.flickrAPI.callMethod(m,k,l)},record_interstitial_clickthrough:function(){var h=this.get("owner");g.Object.each(b,function(i,j){if(i.get("owner")===h){i.set("needs_interstitial",false)}});g.flickrAPI.callMethod("flickr.people.recordInterstitialClickthrough",{user_id:h},function(){})},updateWoeAttributeByeId:function(i){var h=this;g.use("flickr-geo",function(j){j.flickrGeo.getWoeById(i,function(k){if(k.success&&j.Lang.isObject(k.woe)){h.set("woe",k.woe)}else{j.log("Unable to update WOE. Expected data was not received from the API.","error","photo-data")}},this)})},increment:function(h){if(!e(this.get(h))){return false}return this.add(h,1)},decrement:function(h){if(!e(this.get(h))){return false}return this.add(h,-1)},add:function(i,j){var k=this.get(i),h;if(!g.Lang.isNumber(k)||!g.Lang.isNumber(j)){return false}h=k+j;if(this.set(i,h)){return h}else{return false}}})},"0.0.1",{requires:F.config.modules["photo-data"].requires||[],optional:F.config.modules["photo-data"].optional||[]});(function(){var a="grease";YUI.add(a,function(d){var X=false,S,al,P=d.StorageLite,T=false,s,t,z,Q,W,E="pc",y="pic",u="pf",g="pct",R="ps",Z="ps3",j="pp",q="pps",aa="/photo_grease_postlogin.gne",x="fave",ad="contact",ae="share",G="share_v3",h="comment",e=/cookie_session=[^;]+/gi,l=";",an=3,O=1000,L=[E,y,R,Z,u,g,u,j,q];if(d.config.flickr.flags.enable_grease){X=true}Q=d.global_dialog;function p(){d.Array.each(L,function(Y){P.removeItem(Y)})}var ah=(function(){var Y=null,ay=false,aq=0,at=false,ar=false;function aw(){O=(O>=10000)?O:O*2;return O}function ax(){if(ar){if(Y){Q.remove_existing_dialog();Y.cancel();ay=false}ar=false}}function au(){ar=false;if(Y){Y.cancel()}ax();Q.remove_existing_dialog();ay=false;Y=null;at=false;aq=0;O=1000;at=false}function ap(){if(Y){Y.cancel()}at=true;d.fire("grease:cancel")}function av(){if(at){return}if(Y){Y.cancel();Y=null}var az={method:"post",data:"random=0",on:{success:function(aC,aB,aA){if(aB&&aB.responseText.substring(0,1)==="1"){d.fire("grease:authenticated")}else{if(aq++<an){m();if(!Y){Y=d.later(aw(),this,av)}}}},failure:function(){if(aq++<1){if(!Y){Y=d.later(aw(),this,av)}}}}};d.io("/fragment.gne?name=social-auth-fragment",az)}return{start:function(){if(!ar){ar=true;av()}else{O=50;Y&&Y.cancel();av();return}},stop:ax,cancel:ap,pause:function(){Y&&Y.cancel();O=1000000},canceled:at,reset:au}}());function af(Y){if(!X){return}if(Y&&d.config.flickr.user.nsid){P.on("storage-lite:ready",function(){var aq=ag(E),av=ag(y),aB=ag(u),at=ag(g),ax=ag(R,true),aw=ag(Z,true),ap=ag(j),aA=ag(q);if(aq){z="comment";var az=aq.indexOf(";"),ar=aq.substring(0,az),ay=aq.substring(az+1);if(ar===d.photo.getCurrentPhoto().get("id")){ab(ay)}}else{if(av){z="comment";var az=av.indexOf(";"),ar=av.substring(0,az),ay=av.substring(az+1);C(ay,ar)}else{if(aB){z="fave";V(aB)}else{if(at){z="contact";o(at)}else{if(ax){z="share";I(ax)}else{if(aw){z="sharev3";aj(aw)}else{var au=d.one("#global-dialog-background");if(au){au.setStyle("display","none")}p()}}}}}}})}else{P.on("storage-lite:ready",function(){p()})}}function c(){d.detach("grease|*");S=false;m();W(false);ah.reset()}function f(Y){if(Y.target.hasClass("close-x")||Y.target.hasClass("Butt")){Y.preventDefault();Y.halt();d.global_dialog.hide()}}function A(){Q.show({loading:true,modal:true})}function m(){Q.hide()}function ak(ap){var aq=d.one("body");var Y=aq.create('<img height="1" width="1" src="'+ap+'">');aq.appendChild(Y)}function J(){Q.create_dialog(d.one("#grease-confirm-"+z).get("innerHTML"),{width:355}).show({loading:false,modal:true});d.one("#global_dialog").on("click",f,this);d.later(10000,this,d.global_dialog.hide);if(d.config.flickr.flags.enable_rapid_tracking&&d.one("#reg-tour")){d.use("rapid-tracker",function(ap){ap.rapidTracker.addModules("grease-conversion-tracker");ap.rapidTracker.beaconClick("grease-conversion-tracker",z);switch(z){case x:ak("https://pclick.internal.yahoo.com/p/s=2143640346&t="+Math.random());break;case ad:ak("https://pclick.internal.yahoo.com/p/s=2143640345&t="+Math.random());break;case ae:ak("https://pclick.internal.yahoo.com/p/s=2143640344&t="+Math.random());break;default:ak("https://pclick.internal.yahoo.com/p/s=2143640343&t="+Math.random())}})}}function V(ap){var at,Y,au,aq,ar=true;if(d.photo&&d.photo.getCurrentPhoto&&d.photo.getCurrentPhoto()&&d.photo.getCurrentPhoto().get("is_owner")){if(Q){Q.remove_existing_dialog()}aq=d.one("#global-dialog-background");if(aq){aq.setStyle("display","none")}p();return}if(d.PhotoData){at=d.PhotoData.get(ap);if(at){if(!at.get("is_fave")){at.toggle_fave()}J();p()}else{if(typeof d.FlickrAppExplore!=="undefined"){au=d.FlickrAppExplore.getListModel();if(au){au.toggleFave(ap);ar=false}}if(typeof d.FlickrAppPhotostream!=="undefined"){au=d.FlickrAppPhotostream.getListModel();if(au){au.toggleFave(ap);neeedsAPI=false}}if(ar){d.flickrAPI.callMethod("flickr.favorites.add",{photo_id:ap})}J();p()}}}function I(Y){A();p();d.flickrAPI.callMethod("flickr.sharing.share",Y,{success:function(ap){m();J()},failure:r})}function aj(Y){A();p();Y.magic_cookie=d.config.flickr.magic_cookie;Y.from_grease=1;d.use("share-this-v3-dialog",function(ap){ap.shareThisV3Dialog.do_share_action(Y)})}function r(){p();Q.create_dialog(d.one("#grease-error").get("innerHTML")).show({loading:false,modal:true,width:355,style:"grease-error"});d.one("#global_dialog").on("click",f,this);d.later(5000,this,d.global_dialog.hide)}function o(Y){A();contactArr=Y.split(";");d.flickrAPI.callMethod("flickr.contacts.add",{user_id:contactArr[0],friend:contactArr[1],family:contactArr[2]},{success:function(ap){m();J();p()},failure:r})}function n(){if(document.cookie.match(e)){S=false;A();ah.start()}else{d.later(20,this,n)}}function ab(aq){A();p();var ap=d.one("#message");if(!ap){r();return}d.one("#message").set("innerHTML",aq);var Y={method:"post",data:"preview=0",form:{id:d.one(".add-comment-form form")},on:{success:function(aw,av,at){m();J();var ar=d.one("#comments");ar.set("innerHTML",av.responseText);var au=ar.one(".Problem");if(au){Q.create_alert_dialog(au.get("innerHTML"),function(){ar.one("#message").scrollIntoView()})}}}};d.io("/photo_comments_fragment.gne",Y)}function C(ar,aq){p();var Y="magic_cookie="+d.config.flickr.magic_cookie+"&photo="+aq+"&addcomment=1flash_ver=unknown&offset="+(-1)+"&limit=4&show-chrome=true&view-more-count=20&hide-meta=true&message="+ar;var ap={method:"post",data:Y,on:{success:function(ay,ax,au){var at=d.one("div[data-photo-id="+aq+"]");if(at){var av=at.getAttribute("data-comments-total-count");av=av===""?0:parseInt(av,10);av++;at.setAttribute("data-comments-total-count",av);var aw=at.one(".comment-count");if(aw){if(av<100){aw.setHTML(av)}else{aw.setHTML("99+")}}}m()},failure:function(at,au){m();showError(d.transjax.get("photo-comments","error_add_generic"))}}};d.io("/photo_comments_fragment_2013.gne?cachebust="+(new Date()).getTime(),ap)}function B(ar){var aq;var aw=650;var at;if(d.config.flickr.flags.enable_ads_on_login_page){at=d.one(window).get("winWidth")||0;if(!isNaN(aw)){aw=Math.max(880,Math.min(1200,at))}}ah.reset();var ap=ar+"&popup=1&redir="+aa+"?d="+encodeURIComponent(window.location+"?reg=1")+"&src="+z;if(d.config.flickr.is_touch_device){aq=aa+"?d="+window.location+"&notpopup=1&src="+z+"&reg=1";window.location=ar+"&popup=0&redir="+encodeURIComponent(aq);return false}try{al=window.open(ap,"newWindow","width="+aw+",height=650,resizable=1,scrollbars=1,location=yes")}catch(av){return true}try{if(al.focus){al.focus()}}catch(Y){}if(!al||al.closed||typeof al.closed==="undefined"){aq=aa+"?d="+window.location+"&notpopup=1&src="+z+"&reg=1";window.location=ar+"&popup=0&redir="+encodeURIComponent(aq)}else{window.setTimeout(n,500)}var au=d.one("window");au.on("grease|focus",function(){if(!ah.canceled){ah.start()}if(!document.cookie.match(e)){m();W(false);n()}});d.on("grease:cancel",function(ax){S=false;c()});au.on("grease|blur",function(){if(!ah.canceled){ah.pause()}});au.on("grease:timeout",function(ax){S=false;c()});d.on("grease:authenticated",function(aB){if(al){try{al.close()}catch(az){}}A();S=false;W(true);var aC=(Z),ax=["reg=1","src="+z];if(aC){var aA=window.location.toString(),ay=aA.match(/\?/i);aA+=(!ay?"?":"&")+ax.join("&");if(aA.indexOf("#?")!==-1){aA=aA.replace("#","")}window.location=aA}else{window.location=d.urls.get("photo",{photo:d.photo.getCurrentPhoto()})+"?"+ax.join("&")}});return false}function b(aq,ar,ap){var Y=ap||false;P.setItem(aq,ar,Y)}function ag(Y,aq){var ap=aq||false;return P.getItem(Y,ap)}function H(Y){if(!S){ah.reset();W=Y||function(){};d.global_dialog.remove_existing_dialog();d.global_dialog.show({loading:true,modal:true});S=true;B("/signin?src="+z+"&reg=1")}else{c();H(Y)}}function M(ap,Y){Y=Y||d.photo.getCurrentPhoto().get("id");p();b(Y?y:E,Y+l+ap);z="comment"}function w(Y){p();b(u,Y);z="fave"}function ac(Y){p();if(d.Lang.isArray(Y)){b(g,Y.join(";"));z="contact"}}function U(Y){p();b(R,Y,true);z="share"}function ai(Y){p();b(Z,Y,true);z="sharev3"}function v(Y){p();b(j,Y);z="party"}function ao(Y){p();b(q,d.JSON.stringify(Y));z="partyStart"}d.grease={init:af,enabled:X,authenticate:H,postComment:M,addFave:w,addContact:ac,share:U,shareV3:ai,photoParty:v,photoPartyStart:ao};if(d.config.flickr.user.admin_user==="saw"){d.occult.register("postComment",function(Y){ab(Y)});d.occult.register("showdialog",function(Y){z="fave";J()});d.occult.register("fakeerror",function(Y){r(Y)})}var i=d.one("#reg-tour");function k(){for(var Y=1;Y<4;Y++){am.removeClass(K+Y)}}function N(Y){Y.preventDefault();k();d.Event.purgeElement("#reg-tour");i.addClass("hidden")}function D(Y){if(Y.test("#reg-tour")){return}if(Y.test("ol li")){k();switch(Y.get("id")){case"step-1":am.addClass(K+1);break;case"step-2":am.addClass(K+2);break;case"step-3":am.addClass(K+3);break}}else{D(Y.get("parentNode"))}}if(i){var K="tour-step",am=d.one("body");i.one(".close-x").on("click",N);i.on("mouseover",function(Y){D(Y.target)});i.on("mouseout",function(Y){k()})}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="context-data";YUI.add(a,function(b){var i={};function m(t){var u=new e(t);i[u.id]=u;u.on("totalChange",function(v){b.fire("ContextData:totalChange",u.id,v)});u.on("photoLoaded",function(v,w){b.fire("ContextData:photoLoaded",u.id,v,w)});u.on("photoRemoved",function(v,w){b.fire("ContextData:photoRemoved",u.id,v,w)});u.on("photoUnremoved",function(v,w){b.fire("ContextData:photoUnremoved",u.id,v,w)});u.on("photoLoadFailure",function(v){b.fire("ContextData:photoLoadFailure",u.id,v)});u.on("prevLimitReached",function(v){b.fire("ContextData:prevLimitReached",u.id,v)});u.on("nextLimitReached",function(v){b.fire("ContextData:nextLimitReached",u.id,v)});b.fire("ContextData:contextAdded",u);return u}function s(u){var t=i[u];if(!t){return}i[u]=undefined;delete i[u];b.fire("ContextData:contextRemoved",u)}function k(t){b.fire("ContextData:contextInvalidated",t)}function o(u,E){var x=j(u),y=x.type,G=x.set_id,C=x.group_id,w=x.for_user,z=x.gallery_id,D=x.user_id,B=x.from,t=x.owner_name_possessive,A=x.title,v=x.url;s(u);m({id:u,set_id:G,group_id:C,for_user:w,gallery_id:z,user_id:D,from:B,owner_name_possessive:t,type:y,title:A,url:v,photos:E})}function j(t){if(t){return i[t]}else{return undefined}}function g(){return b.Object.values(i)}function p(u,t){if(i[u]){return i[u].loadPhoto(t)}}function l(v,t,u){if(i[v]){i[v].loadPhotoRange(t,u)}}function d(u,t){if(i[u]){return i[u].removePhoto(t)}}function q(u,t){if(i[u]){return i[u].unremovePhoto(t)}}function n(u,t){return i[u]?i[u].getPhoto(t):undefined}function r(u,t){return i[u]?i[u].getPhotoPosition(t):undefined}function h(u){var t={};b.Object.each(i,function(w,x){var v=r(x,u);if(b.Lang.isNumber(v)){t[x]=v}});return t}function c(t){return i[t]?i[t].prev_limit:undefined}function f(t){return i[t]?i[t].next_limit:undefined}b.ContextData={add:m,remove:s,reload:o,invalidate:k,getContext:j,getContexts:g,loadPhoto:p,loadPhotoRange:l,removePhoto:d,unremovePhoto:q,getPhoto:n,getPhotoPosition:r,getPhotoPositions:h,getPrevLimit:c,getNextLimit:f};function e(t){this.id=t.id;this.type=t.type;this.set_id=t.set_id;this.group_id=t.group_id;this.for_user=t.for_user;this.gallery_id=t.gallery_id;this.user_id=t.user_id;this.from=t.from;this.owner_name_possessive=t.owner_name_possessive;this.title=t.title||"";this.url=t.url||"";this.order_by=t.order_by||"";this.total=parseInt(t.total,10);this.removed={};if(b.config.flickr.filmstrips&&b.config.flickr.filmstrips.enable_filmstrip_timelines){this.start_position=parseInt(t.start_position,10)}this.photos={};if(!b.Lang.isNumber(this.total)){this.total=undefined}this.prev_limit=t.prev_limit;this.next_limit=t.next_limit;b.Object.each(t.photos,function(y){var w=y.position,v=y.photo,u,x;u=parseInt(w,10);if(b.Lang.isNumber(u)){x=b.PhotoData.add(v);if(x){this.setPhoto(u,x)}}},this);this.next_batch={};this.loading_batches={}}e.prototype={getPhoto:function(t){return this.photos[t+""]},setPhoto:function(t,u){this.photos[t+""]=u},getLoadedPositions:function(){var t=[];b.Object.each(this.photos,function(u,v){t.push(parseInt(v,10))});return t},getPhotoPosition:function(u){var t;b.Object.some(this.photos,function(v,w){if(v.get("id")===u){t=w;return true}});return parseInt(t,10)},loadPhoto:function(t){var v=this.getPhoto(t),u,w;if(v){this.fire("photoLoaded",t,v)}else{u=b.Lang.isNumber(this.prev_limit)&&t<this.prev_limit;w=b.Lang.isNumber(this.next_limit)&&t>this.next_limit;if(u||w){if(u){this.fire("prevLimitReached",this.prev_limit)}if(w){this.fire("nextLimitReached",this.next_limit)}}else{this.fetch(t)}}},loadPhotoRange:function(v,w){var u,t;if(v<w){u=v;t=w}else{u=w;t=v}for(u;u<=t;u++){this.loadPhoto(u)}},removePhoto:function(t){var u=this.getPhoto(t);this.removed[t+""]=true;this.fire("photoRemoved",t,u)},unremovePhoto:function(t){var u=this.getPhoto(t);this.removed[t+""]=undefined;delete this.removed[t+""];this.fire("photoUnremoved",t,u)},inBatchRange:function(u,t){return(u&&u.range&&t>=u.range[0]&&t<=u.range[1])},inNextBatch:function(t){return this.inBatchRange(this.next_batch,t)},inLoadingBatch:function(t){var v,u;for(v in this.loading_batches){if(this.loading_batches.hasOwnProperty(u)){u=this.loading_batches[v];if(this.inBatchRange(u,t)){return true}}}return false},addToNextBatch:function(v){var w,z,y,u,x,t,A;w=this.next_batch.positions||[];w.push(v);z=w.sort(b.Array.numericSort);this.next_batch.positions=z;y=this.getClosestLoadedPosition(w);if(b.Lang.isNumber(y)){u=y;x=this.getPhoto(y).get("id");t=y-z[0];A=z[z.length-1]-y;if(t<0){t=0}if(A<0){A=0}this.next_batch.range=[u-t,u+A];this.next_batch.params={start_pos:u,photo_id:x,num_prev:t,num_next:A};if(!this.next_batch.handle){this.next_batch.handle=b.later(500,this,this.fetchBatch)}}else{b.log("No photo was found in the context. At least one photo is needed to fetch data.","error",a)}},fetch:function(t,u){if((!u&&b.Lang.isNumber(this.prev_limit)&&t<this.prev_limit)||(!u&&b.Lang.isNumber(this.next_limit)&&t>this.next_limit)||this.inNextBatch(t)||this.inLoadingBatch(t)){return}this.addToNextBatch(t);return},fetchBatch:function(){var y,C,A,u,v,z,t,w,x,D,B;y=this.next_batch;this.next_batch={};C=y.range.toString();this.loading_batches[C]=y;A=y.params.start_pos;u=y.params.photo_id;v=y.params.num_prev;z=y.params.num_next;switch(this.type){case"contacts":t="flickr.contacts.getContext";w={photo_id:u,num_prev:z,num_next:v};x=true;break;case"contactsfaves":t="flickr.contacts.getContextRecentlyFaved";w={photo_id:u,num_prev:z,num_next:v};if(this.user_id&&b.config.flickr.user.nsid!==this.user_id){w.user_id=this.user_id}x=true;break;case"photosof":t="flickr.photos.people.getContext";w={user_id:this.user_id,photo_id:u,num_prev:z,num_next:v};x=true;break;case"faves":t="flickr.favorites.getContext";w={user_id:this.user_id,photo_id:u,num_prev:z,num_next:v};if(this.from){w.from=this.from}x=true;break;case"gallery":t="flickr.galleries.getContext";w={gallery_id:this.gallery_id,photo_id:u,num_prev:v,num_next:z};break;case"photolist":t="flickr.photolist.getContext";w={photolist_id:this.id.split("photolist-")[1],photo_id:u,num_prev:v,num_next:z};break;case"pool":t="flickr.groups.pools.getContext";w={group_id:this.group_id,photo_id:u,num_prev:z,num_next:v};if(this.for_user){w.for_user=this.for_user}x=true;break;case"search":break;case"set":t="flickr.photosets.getContext";w={photoset_id:this.set_id,photo_id:u,num_prev:z,num_next:v};x=true;break;case"stream":t="flickr.photos.getContext";w={photo_id:u,num_prev:z,num_next:v,order_by:this.order_by==="datetaken"?"datetaken":(this.order_by==="dateposted"?"dateposted":"")};x=true;break;case"tags":break;case"timescrubber":break;case"explore":t="flickr.explore.getContext";w={photo_id:u,num_prev:v,num_next:z};break;case"photos_recommendations":t="flickr.photos.recommendations.getContext";w={photo_id:u,num_prev:v,num_next:z};break}if(!u||(!v&&!z)||!t||!w){return}(function(){var E=["url_sq","url_q","url_t","url_s","url_m","url_z","url_c","url_l","url_o","video_size","owner_name","path_alias","icon_server","needs_interstitial","count_comments","count_faves"];if(b.config.flickr.flags.enable_hera){E.push("description")}if(b.config.flickr.flags.enable_retina_lightbox){E.push("url_h")}else{if(b.config.flickr.flags.enable_high_res_pref||b.config.flickr.flags.dark_launch_high_res_pref){E.push("url_h","url_k")}}w.extras=E.join(",")}());B=this;D={success:function(H){var J,G,L,N,I,E,K,M;B.loading_batches[C]=undefined;delete B.loading_batches[C];M=parseInt(H.data.count._content,10);L=(H.data.prevphotos&&b.Lang.isArray(H.data.prevphotos.photo))?H.data.prevphotos.photo:[];N=(H.data.nextphotos&&b.Lang.isArray(H.data.nextphotos.photo))?H.data.nextphotos.photo:[];if(b.Lang.isNumber(M)){if(M!==parseInt(B.total,10)){B.total=M;B.fire("totalChange",B.total)}}J=x?L:N;G=x?N:L;for(I=J.length-1;I>=0;I--){K=parseInt(A,10)+1+I;if(!B.getPhoto(K)){if(J[I].description){if(typeof J[I].description._content==="string"){J[I].description=J[I].description._content}}E=b.PhotoData.add(J[I]);B.setPhoto(K,E);B.fire("photoLoaded",K,E)}}for(I=G.length-1;I>=0;I--){K=parseInt(A,10)-1-I;if(!B.getPhoto(K)){if(G[I].description){if(typeof G[I].description._content==="string"){G[I].description=G[I].description._content}}E=b.PhotoData.add(G[I]);B.setPhoto(K,E);B.fire("photoLoaded",K,E)}}if(v>G.length){B.prev_limit=A-G.length;B.fire("prevLimitReached",B.prev_limit)}if(z>J.length){B.next_limit=A+J.length;B.fire("nextLimitReached",B.next_limit)}},failure:function(G){var E=B.getPhotoPosition(y.params.photo_id);b.Array.each(y.positions,function(H){B.fire("photoLoadFailure",H)});if(G&&G.data){if((B.type==="contacts"&&G.data.code===2)||(B.type==="contactsfaves"&&G.data.code===2)||(B.type==="photosof"&&G.data.code===3)||(B.type==="faves"&&G.data.code===3)||(B.type==="gallery"&&G.data.code===3)||(B.type==="pool"&&G.data.code===2)||(B.type==="set"&&G.data.code===2)||(B.type==="stream"&&G.data.code===1)){b.log("The getContext API request failed because the key photo is not in the context","error",a);B.removePhoto(E)}else{if((B.type==="contacts"&&G.data.code===1)||(B.type==="contactsfaves"&&G.data.code===1)||(B.type==="photosof"&&G.data.code===1)||(B.type==="faves"&&G.data.code===1)||(B.type==="gallery"&&G.data.code===1)||(B.type==="pool"&&G.data.code===1)||(B.type==="set"&&G.data.code===1)||(B.type==="stream"&&G.data.code===1)||(B.type==="photolist"&&G.data.code===1)){b.log("The getContext API request failed because the key photo does not exist","error",a);B.getPhoto(E).set("deleted",true)}}}B.loading_batches[C]=undefined;delete B.loading_batches[C]}};if(t&&w&&D){b.flickrAPI.callMethod(t,w,D)}return this},getClosestLoadedPosition:function(w){var v,u,t,x;v=b.Object.keys(this.photos);u=0;b.Array.each(w,function(y){u+=parseInt(y,10)});t=u/w.length;v.sort(function(z,y){var B,A;B=Math.abs(z-t);A=Math.abs(y-t);return(B-A)});b.Array.some(v,function(y){if(this.photos[y].get("deleted")!==true){x=y;return true}},this);return parseInt(x,10)}};b.augment(e,b.EventTarget)},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("intl",function(e,t){var n={},r="yuiRootLang",i="yuiActiveLang",s=[];e.mix(e.namespace("Intl"),{_mod:function(e){return n[e]||(n[e]={}),n[e]},setLang:function(e,t){var n=this._mod(e),s=n[i],o=!!n[t];return o&&t!==s&&(n[i]=t,this.fire("intl:langChange",{module:e,prevVal:s,newVal:t===r?"":t})),o},getLang:function(e){var t=this._mod(e)[i];return t===r?"":t},add:function(e,t,n){t=t||r,this._mod(e)[t]=n,this.setLang(e,t)},get:function(t,n,r){var s=this._mod(t),o;return r=r||s[i],o=s[r]||{},n?o[n]:e.merge(o)},getAvailableLangs:function(t){var n=e.Env._loader,r=n&&n.moduleInfo[t],i=r&&r.lang;return i?i.concat():s}}),e.augment(e.Intl,e.EventTarget),e.Intl.publish("intl:langChange",{emitFacade:!0})},"3.11.0",{requires:["intl-base","event-custom"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("escape",function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},r={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,r._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return n[e]}};r.regexp=r.regex,e.Escape=r},"3.11.0",{requires:["yui-base"]});
YUI.add("history-manager",function(c){var e=window,k=e.location,b=e.history,h=(b.pushState&&b.replaceState),s=!h&&(c.UA.gecko>=1.92),x={},v,z,a,o={photo:true,faves:true,group_pool:true,gallery:true,contacts:true,contactsfaves:true,photostream:true,explore:c.config.flickr.flags.enable_justified_explore?true:false},j=o[c.config.flickr.page_type]&&(h||s);function w(){if(!j){return}f();if(h){e.addEventListener("popstate",y,false)}else{if(s){e.addEventListener("hashchange",d,false)}}r(z)}function t(A){c.log("setState","info","history-manager");if(!v){v=A}z=A}function n(){var J,C,H,D,A,K,L,I,E,M,B={},G;J=c.urls.regexes[c.config.flickr.page_type];C=J&&J.exec(k.pathname);if(C instanceof Array){switch(c.config.flickr.page_type){case"photo":if(C[1]&&C[2]){if(C[3]==="photostream"){a=true}H=C[1];D=C[2];A=C[3]||"photostream";L=C[4]||((k.search.indexOf("page=")>-1)?k.search.split("page=")[1].split("&")[0]:undefined)||1;I=C[5]?true:undefined;E=C[6]?true:undefined;if(H){B.pathalias=decodeURIComponent(H)}if(D){B.photo_id=D}if(A){B.context_id=decodeURIComponent(A)}if(L){B.page=L}if(I){B.lightbox=I}if(E){B.tour=E}}break;case"faves":if(C[1]){H=C[1]&&decodeURIComponent(C[1]);from=C[2]&&decodeURIComponent(C[2]);L=C[3];D=C[4];I=C[5]?true:false;view_mode=C[6];if(H){B.pathalias=H}if(from){B.from=from}if(L){B.page=L}if(D){B.photo_id=D}if(I){B.lightbox=I}if(view_mode){B.view_mode=view_mode}}break;case"group_pool":if(C[1]){group_id=C[1];K=C[2];D=C[3];L=C[4];I=C[5]?true:undefined;view_mode=C[6];if(group_id){B.group_id=decodeURIComponent(group_id)}if(K){B.owner_id=decodeURIComponent(K)}if(D){B.photo_id=D}if(I){B.lightbox=I}}break;case"gallery":if(C[1]&&C[2]){H=C[1];M=C[2];D=C[3];I=C[4]?true:undefined;if(H){B.pathalias=decodeURIComponent(H)}if(M){B.gallery_id=decodeURIComponent(M)}if(D){B.photo_id=D}if(I){B.lightbox=I}}break;case"photostream":if(C[1]){H=C[1];D=C[3];L=C[2];I=C[4]?true:undefined;if(H){B.pathalias=decodeURIComponent(H)}if(L){B.page=C[1]}if(D){B.photo_id=D}if(I){B.lightbox=I}}break;case"contacts":L=C[1];D=C[2];I=C[3]?true:undefined;if(L){B.page=C[1]}if(D){B.photo_id=C[2]}if(I){B.lightbox=I}break;case"explore":G=C[1];D=C[2];I=C[3];if(G){B.date=G}if(D){B.photo_id=D}if(I){B.lightbox=I}break;default:D=C[1];I=C[2]?true:undefined;if(D){B.photo_id=D}if(I){B.lightbox=I}break}}return B}function f(){t(n())}function g(C){var B="",A={};switch(c.config.flickr.page_type){case"photo":B+="/photos/"+C.pathalias+"/"+C.photo_id+"/";if(C.context_id&&(a||C.context_id!=="photostream")){B+="in/"+C.context_id+"/"}if(C.page>1){B+="page"+C.page+"/"}else{if(C.lightbox){B+="lightbox/"}else{if(C.tour||v.tour){B+="tour/"}}}break;case"faves":if(C.pathalias){A.path_alias=C.pathalias}if(C.from){A.from=C.from}if(C.page){A.page=C.page}if(C.photo_id){A.photo_id=C.photo_id}if(C.lightbox){A.lightbox=C.lightbox}B=c.urls.get("faves",A);break;case"group_pool":B+="/groups/"+C.group_id+"/pool/";if(C.owner_id){B+=C.owner_id+"/"}if(C.photo_id){B+="with/"+C.photo_id+"/"}if(C.lightbox){B+="lightbox/"}break;case"gallery":B+="/photos/"+C.pathalias+"/galleries/"+C.gallery_id+"/";if(C.photo_id){B+="with/"+C.photo_id+"/"}if(C.lightbox){B+="lightbox/"}break;case"contacts":B+="/photos/friends/";if(C.photo_id){B+="with/"+C.photo_id+"/"}else{if(c.config.flickr.flags.enable_justified_contacts_photos&&C.page>1){B+="page"+C.page+"/"}}if(C.lightbox){B+="lightbox/"}break;case"photostream":B+="/photos/"+C.pathalias+"/";if(C.photo_id){if(c.listData&&c.listData.is_public_view){B+="public/with/"+C.photo_id+"/"}else{B+="with/"+C.photo_id+"/"}}if(C.lightbox){B+="lightbox/"}break;case"explore":B+="/explore";if(C.date){B+="/"+C.date}if(C.photo_id){B+="/with/"+C.photo_id}if(C.lightbox){B+="/lightbox"}break;case"contactsfaves":B+="/photos/contacts/favorites/";if(C.photo_id){B+="with/"+C.photo_id+"/"}if(C.lightbox){B+="lightbox/"}break}return B}function i(C,B){var A;for(A in C){if(C.hasOwnProperty(A)){if(!B.hasOwnProperty(A)||B[A]!==C[A]){return false}}}for(A in B){if(B.hasOwnProperty(A)){if(!C.hasOwnProperty(A)||C[A]!==B[A]){return false}}}return true}function p(D,B){c.log("pushState","info","history-manager");var C,E,A;B=B||{};C=B.replace;E=c.Lang.isString(B.title)?B.title:e.document.title;A=g(D);if(i(D,z)){return}t(D);if(h){if(C){b.replaceState(D,E,A)}else{b.pushState(D,E,A)}m()}else{if(s){x[A]=D;if(A===k.pathname||A===k.pathname+"/"){A=""}if(!A&&!q()){}else{if(!A){A="/"}if(C){k.replace("#"+A)}else{k.assign("#"+A)}}m()}}}function r(B,A){var C;A=A||{};C=A.title;p(B,{replace:true,title:C})}function u(){var A,B={};if(z){for(A in z){if(z.hasOwnProperty(A)){B[A]=z[A]}}}return B}function q(){var A=k.href.indexOf("#");if(A===-1){return""}return k.href.substr(A+1)}function m(){c.fire("historyManager:change",u())}function y(A){c.log("handlePop","info","history-manager");l(A.state)}function d(B){var A=q();if(A==="/"){A=k.pathname}l(x[A])}function l(B){c.log("handleStateChange","info","history-manager");var A;if(!B){B=n()}if(!i(B,z)){A=true}if(A){t(B);m()}}w();c.historyManager={enabled:j,pushState:p,replaceState:r,getState:u,setState:t,getStateFromUrl:n,setStateFromUrl:f}},"0.0.1",{requires:F.config.modules["history-manager"].requires||[],optional:F.config.modules["history-manager"].optional||[]});YUI.add("html5-balls",function(d){var b='<div class="html5-balls"><div class="blueball"></div><div class="pinkball"></div></div>';if(d.UA.ie&&d.UA.ie<9){b='<div class="html4-balls"></div>'}var c={width:{value:24},node:{validator:function(e){if(e.one){return true}else{return false}}}};var a=function(e){this.set("node",e.node);this.set("width",e.width);var f=this.get("node");var g=f.create(b);g.setStyle("width",this.get("width"));f.set("innerHTML",b)};d.augment(a,d.Attribute);d.Balls=a},"0.0.1",{requires:F.config.modules["html5-balls"].requires||[],optional:F.config.modules["html5-balls"].optional||[]});YUI.add("lightbox-transjax",function(a){a.transjax.add("lightbox",{by:'By %s',close:'Close',pause:"Pause",play:"Play",prev:'Prev',next:'Next',newer:'Newer',older:'Older',view_photo_page:'View photo page',view_video_page:'View video page',favorite_with_count_one:'1 favorite',favorite_with_count_more_than_one:'%s favorites',favorite:'Favorite',comment_with_count_one:'1 comment',comment_with_count_more_than_one:'%s comments',comment:'Comment',allsizes:'View all sizes',must_be_signed_in:'You must be signed in to see this content.',sign_in:'SIGN IN',outside_safesearch:'This photo falls outside your current SafeSearch filter.',you_can_click_through:'You can click through to see it if you want.',show_the_photo:'YES PLEASE, SHOW ME THE PHOTO',view_photo_in_lightbox:'View this photo in a light box',view_photos_in_lightbox:'View these photos in a light box',close_the_lightbox:'Close the Light Box',back_to_yahoo:'Back to Yahoo.com',prev_photo:'Previous photo',next_photo:'Next photo',start_or_stop_slideshow_mode:'Start or stop slideshow mode',fave_the_current_photo:'Fave the current photo',fullscreen:'Fullscreen',fullscreen_exit:'Exit Fullscreen',launch_iphone_app:'Launch the Flickr iPhone App'})},"0.0.1",{requires:F.config.modules["lightbox-transjax"].requires||[],optional:F.config.modules["lightbox-transjax"].optional||[]});/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("attribute-complex",function(e,t){var n=e.Attribute;n.Complex=function(){},n.Complex.prototype={_normAttrVals:n.prototype._normAttrVals,_getAttrInitVal:n.prototype._getAttrInitVal},e.AttributeComplex=n.Complex},"3.11.0",{requires:["attribute-base"]});
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("substitute",function(e,t){var n=e.Lang,r="dump",i=" ",s="{",o="}",u=/(~-(\d+)-~)/g,a=/\{LBRACE\}/g,f=/\{RBRACE\}/g,l=function(t,l,c,h){var p,d,v,m,g,y,b=[],w,E,S=t.length;for(;;){p=t.lastIndexOf(s,S);if(p<0)break;d=t.indexOf(o,p);if(p+1>=d)break;w=t.substring(p+1,d),m=w,y=null,v=m.indexOf(i),v>-1&&(y=m.substring(v+1),m=m.substring(0,v)),g=l[m],c&&(g=c(m,g,y)),n.isObject(g)?e.dump?n.isArray(g)?g=e.dump(g,parseInt(y,10)):(y=y||"",E=y.indexOf(r),E>-1&&(y=y.substring(4)),g.toString===Object.prototype.toString||E>-1?g=e.dump(g,parseInt(y,10)):g=g.toString()):g=g.toString():n.isUndefined(g)&&(g="~-"+b.length+"-~",b.push(w)),t=t.substring(0,p)+g+t.substring(d+1),h||(S=p-1)}return t.replace(u,function(e,t,n){return s+b[parseInt(n,10)]+o}).replace(a,s).replace(f,o)};e.substitute=l,n.substitute=l},"3.11.0",{requires:["yui-base"],optional:["dump"]});
YUI.add("flickr-dialog-base",function(f){f.FlickrDialog={};var d='<div class="flickr-dialog {dialogClass} hidden" role="{role}"><div class="flickr-dialog-container"><div class="flickr-dialog-content-wrapper">{dialogContentHTML}</div></div></div>',c='<div class="flickr-dialog-mask hidden"></div>',a=20001,b=20000,e=0.35;f.FlickrDialog.Base=function(g){f.Attribute.call(this,f.FlickrDialog.ATTRS,g);this._createAndInsertHTML();this._attachEvents()};f.extend(f.FlickrDialog.Base,f.Attribute);f.FlickrDialog.ATTRS={dialogContentHTML:{value:"",validator:f.Lang.isString},width:{value:330,validator:function(g){return(f.Lang.isNumber(g)||g==="auto")}},modal:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},context:{valueFn:function(){return"flickr-dialog-"+f.guid()},validator:f.Lang.isString,writeOnce:"initOnly"},dialogClass:{value:"flickr-dialog-base",validator:f.Lang.isString},role:{value:"dialog",validator:f.Lang.isString,writeOnce:"initOnly"},allowClicksOnMaskToHide:{value:false,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowReturnKeyToConfirm:{value:false,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowEscKeyToCancel:{value:true,validator:f.Lang.isBoolean},allowEventsToPropagate:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowFocusOnFirstElement:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},restoreFocusOnHide:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},setAriaLabelledby:{value:true,validator:f.Lang.isBoolean,writeOnce:"initOnly"},allowModalToShrink:{value:false,validator:f.Lang.isBoolean,writeOnce:"initOnly"},shrunkWidth:{value:280,validator:f.Lang.isNumber},shrunkClass:{value:"flickr-dialog-shrunk",validator:f.Lang.isString},autoCenter:{value:true,validator:f.Lang.isNumber},resizeDetectionThrottle:{value:50,validator:f.Lang.isNumber},dialogNode:{value:null},maskNode:{value:null},primaryControl:{value:null},timestamp:{value:null,validator:f.Lang.isNumber},showing:{value:false,validator:f.Lang.isBoolean},stackingOrder:{value:0,validator:f.Lang.isNumber}};f.FlickrDialog.Base.prototype._createAndInsertHTML=function(){var h,g;this.set("timestamp",(new Date()).getTime());this.set("dialogNode",f.Node.create(f.substitute(d,{dialogClass:this.get("dialogClass"),role:this.get("role"),dialogContentHTML:this.get("dialogContentHTML")})));f.one("body").append(this.get("dialogNode"));this.set("maskNode",f.Node.create(c));f.one("body").append(this.get("maskNode"));this.set("primaryControl",(this.get("dialogNode").one("input, button, textarea")||this.get("dialogNode")));this.get("dialogNode").setStyle("width",(this.get("width")==="auto"?this.get("width"):this.get("width")+"px"));if(this.get("setAriaLabelledby")){h=this.get("dialogNode").one(".hd h1, .hd h2, .hd h3, .hd h4, .hd h5, .hd h6");if(h){g=h.generateID();this.get("dialogNode").setAttribute("aria-labelledby",g)}}};f.FlickrDialog.Base.prototype._attachEvents=function(){if(this.get("allowClicksOnMaskToHide")){this.get("maskNode").on("click",this._hideAdapter,this)}if(this.get("allowReturnKeyToConfirm")){f.keyboardShortcutManager.register({keystring:"13",handler:this._confirmAdapter,context:this.get("context"),scope:this})}f.keyboardShortcutManager.register({keystring:"27",handler:this._hideAdapter,context:this.get("context"),scope:this});if(this.get("modal")){f.on(["FlickrDialog:show","FlickrDialog:hide"],this._adjustMaskOpacity,this)}this.after("dialogContentHTMLChange",function(g){this.get("dialogNode").one(".flickr-dialog-content-wrapper").set("innerHTML",g.newVal)});this.after(["widthChange","shrunkWidthChange"],function(g){this.get("dialogNode").setStyle("width",(this.get("width")==="auto"?this.get("width"):this.get("width")+"px"));if(this.get("autoCenter")){if(this.get("allowModalToShrink")){this._modalWidth=this.get("dialogNode").get("offsetWidth");this._modalHeight=this.get("dialogNode").get("offsetHeight");this._checkWindowSize({widthWasChanged:true})}else{this.center()}}});this.after("dialogClassChange",function(g){this.get("dialogNode").removeClass(g.prevVal).addClass(g.newVal)});this.after("shrunkClassChange",function(g){if(this._currentlyShrunk){this.get("dialogNode").removeClass(g.prevVal).addClass(g.newVal)}})};f.FlickrDialog.Base.prototype._hideAdapter=function(g){if(g.charCode===27&&!this.get("allowEscKeyToCancel")){return}if(!this.get("allowEventsToPropagate")){g.stopPropagation()}this.hide()};f.FlickrDialog.Base.prototype._confirmAdapter=function(g){var h=f.focusTracker.get();if(!h||!h.hasClass("CancelButt")){this.hide(true)}};f.FlickrDialog.Base.prototype._stack=function(g){this.get("dialogNode").setStyle("zIndex",a+(2*f.FlickrDialog.Base.visibleDialogs));this.get("maskNode").setStyle("zIndex",b+(2*f.FlickrDialog.Base.visibleDialogs))};f.FlickrDialog.Base.prototype._unstack=function(g){this.get("dialogNode").setStyle("zIndex","");this.get("maskNode").setStyle("zIndex","")};f.FlickrDialog.Base.prototype._adjustMaskOpacity=function(j){var g,i,h;if(!this.get("showing")){return}if(this.get("stackingOrder")===0||f.FlickrDialog.Base.visibleModalDialogs===1){this.get("maskNode").setStyle("opacity",e)}else{g=1-e;i=Math.pow(g,1/f.FlickrDialog.Base.visibleModalDialogs);h=1-i;this.get("maskNode").setStyle("opacity",h)}};f.FlickrDialog.Base.prototype._enforceModality=function(g){if(this.isTopDialog()&&!this.get("dialogNode").contains(g.target)){this.get("primaryControl").focus()}};f.FlickrDialog.Base.prototype._checkWindowSize=function(k){var g=f.DOM.winWidth(),h=f.DOM.winHeight(),i=(!this._currentlyShrunk&&(this._modalWidth>g||this._modalHeight>h))||(this._currentlyShrunk&&(this._modalWidth<=g&&this._modalHeight<=h)),j=k.widthWasChanged;if(this.get("allowModalToShrink")&&(i||j)){if((!this._currentlyShrunk||j)&&(this._modalWidth>g||this._modalHeight>h)){this.get("dialogNode").setStyle("width",(this.get("shrunkWidth")==="auto"?this.get("shrunkWidth"):this.get("shrunkWidth")+"px"));this.get("dialogNode").addClass(this.get("shrunkClass"));this._currentlyShrunk=true;this.fire("shrunk")}else{this.get("dialogNode").setStyle("width",this.get("width")==="auto"?this.get("width"):this.get("width")+"px");this.get("dialogNode").removeClass(this.get("shrunkClass"));this._currentlyShrunk=false;this.fire("unshrunk")}if(this.get("autoCenter")){this.center()}}this.fire("viewportResized",{viewportHeight:h,viewportWidth:g,hasChanged:i,modalHeight:this._modalHeight,modalWidth:this._modalWidth})};f.FlickrDialog.Base.prototype.show=function(g){if(this.get("showing")){return}if(this.get("restoreFocusOnHide")){this._previouslySelectedNode=f.focusTracker.get()}this.get("dialogNode").removeClass("hidden");this.center();this._stack();if(this.get("modal")){this.get("maskNode").removeClass("hidden");this._modalityHandler=f.one(f.config.doc).on("focus",this._enforceModality,this)}this._modalWidth=this.get("dialogNode").get("offsetWidth");this._modalHeight=this.get("dialogNode").get("offsetHeight");this._windowResizeHandler=f.on("resize",f.betterThrottle(this._checkWindowSize,this.get("resizeDetectionThrottle"),this));f.PageContext.set(this.get("context"));this.set("showing",true);f.FlickrDialog.Base.visibleDialogs++;if(this.get("modal")){f.FlickrDialog.Base.visibleModalDialogs++}this.set("stackingOrder",f.FlickrDialog.Base.visibleDialogs);this.fire("show",g);f.fire("FlickrDialog:show");if(this.get("allowFocusOnFirstElement")){f.focusTracker.blur();this.get("primaryControl").focus()}};f.FlickrDialog.Base.prototype.hide=function(g){if(!this.get("showing")){return}if(this.get("modal")){this._modalityHandler.detach()}if(this.get("allowModalToShrink")){this._windowResizeHandler.detach()}if(f.focusTracker.isInput()){f.focusTracker.blur()}this.get("dialogNode").addClass("hidden");this.get("maskNode").addClass("hidden");if(this._previouslySelectedNode){f.later(0,this._previouslySelectedNode,this._previouslySelectedNode.focus)}f.PageContext.unset(this.get("context"));this._unstack();this.set("showing",false);f.FlickrDialog.Base.visibleDialogs--;if(this.get("modal")){f.FlickrDialog.Base.visibleModalDialogs--}this.set("stackingOrder",0);this.fire("hide",g);f.fire("FlickrDialog:hide")};f.FlickrDialog.Base.prototype.center=function(){var g=this.get("dialogNode").get("offsetWidth"),i=this.get("dialogNode").get("offsetHeight");this.get("dialogNode").setStyle("marginLeft",-(g/2)+"px");this.get("dialogNode").setStyle("marginTop",-(i/2)+"px");this.fire("center")};f.FlickrDialog.Base.prototype.isTopDialog=function(){return(this.get("stackingOrder")===f.FlickrDialog.Base.visibleDialogs)};f.FlickrDialog.Base.prototype.destroy=function(g){this.hide();this.get("dialogNode").empty();this.get("maskNode").empty();this.get("dialogNode").remove(true);this.get("maskNode").remove(true);this.fire("destroy",g);f.fire("FlickrDialog:destroy")};f.FlickrDialog.Base.visibleDialogs=0;f.FlickrDialog.Base.visibleModalDialogs=0},"0.0.1",{requires:F.config.modules["flickr-dialog-base"].requires||[],optional:F.config.modules["flickr-dialog-base"].optional||[]});YUI.add("flickr-dialog-alert",function(d){var c='<div class="hd">{message}</div><div class="bd button-container"><input type="button" class="{confirmButtonClass}" value="{confirmButtonText}" id="{confirmButtonId}"></div>';d.FlickrDialog.Alert=function(e){var f,g;f={message:"",confirmButtonText:d.transjax.get("global-dialog","button_confirm"),confirmButtonClass:"Butt",confirmButtonId:d.guid(),callback:function(h){},dialogClass:"flickr-dialog-alert",role:"alertdialog",allowReturnKeyToConfirm:true};e=d.mix(e||{},f);e.dialogContentHTML=d.substitute(c,e);d.FlickrDialog.Alert.superclass.constructor.call(this,e);g={message:{value:f.message,validator:d.Lang.isString,writeOnce:"initOnly"},confirmButtonText:{value:f.confirmButtonText,validator:d.Lang.isString,writeOnce:"initOnly"},confirmButtonClass:{value:f.confirmButtonClass,validator:d.Lang.isString,writeOnce:"initOnly"},confirmButtonId:{value:f.confirmButtonId,validator:d.Lang.isString,writeOnce:"initOnly"},callback:{value:f.callback,validator:d.Lang.isFunction,writeOnce:"initOnly"}};this.addAttrs(g,e);d.one("#"+this.get("confirmButtonId")).on("click",this.hide,this);this.on("hide",this.get("callback"),this)};var a={},b={};d.extend(d.FlickrDialog.Alert,d.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-alert"].requires||[],optional:F.config.modules["flickr-dialog-alert"].optional||[]});YUI.add("flickr-dialog-confirmation",function(c){var e='{titleHTML}<div class="bd">{message}{photoHTML}</div><div class="bd button-container"><input type="button" class="{confirmButtonClass}" value="{confirmButtonText}" id="{confirmButtonId}"> <input type="button" class="{cancelButtonClass}" value="{cancelButtonText}" id="{cancelButtonId}"></div>',d='<div class="hd"><h3>{title}</h3></div>';PHOTO_TEMPLATE='<div class="photo-container"><img src="{url}" width="{width}" height="{height}"></div>';c.FlickrDialog.ConfirmationDialog=function(f){var g,h;g={title:"",message:"",photo:null,confirmButtonText:c.transjax.get("global-dialog","button_confirm"),confirmButtonClass:"Butt",confirmButtonId:c.guid(),cancelButtonText:c.transjax.get("global-dialog","button_cancel"),cancelButtonClass:"CancelButt",cancelButtonId:c.guid(),callback:function(i){},dialogClass:"flickr-dialog-confirmation",role:"alertdialog",allowReturnKeyToConfirm:true};f=c.mix(f||{},g);f.titleHTML=(f.title)?c.substitute(d,f):"";f.photoHTML=(f.photo)?c.substitute(PHOTO_TEMPLATE,f.photo):"";f.dialogContentHTML=c.substitute(e,f);c.FlickrDialog.ConfirmationDialog.superclass.constructor.call(this,f);h={title:{value:g.title,validator:c.Lang.isString,writeOnce:"initOnly"},message:{value:g.message,validator:c.Lang.isString,writeOnce:"initOnly"},photo:{value:g.photo,writeOnce:"initOnly"},confirmButtonText:{value:g.confirmButtonText,validator:c.Lang.isString,writeOnce:"initOnly"},confirmButtonClass:{value:g.confirmButtonClass,validator:c.Lang.isString,writeOnce:"initOnly"},confirmButtonId:{value:g.confirmButtonId,validator:c.Lang.isString,writeOnce:"initOnly"},cancelButtonText:{value:g.cancelButtonText,validator:c.Lang.isString,writeOnce:"initOnly"},cancelButtonClass:{value:g.cancelButtonClass,validator:c.Lang.isString,writeOnce:"initOnly"},cancelButtonId:{value:g.cancelButtonId,validator:c.Lang.isString,writeOnce:"initOnly"},callback:{value:g.callback,writeOnce:"initOnly"}};this.addAttrs(h,f);c.one("#"+this.get("confirmButtonId")).on("click",this._checkConfirmationAndHide,this,true);c.one("#"+this.get("cancelButtonId")).on("click",this._checkConfirmationAndHide,this);this.on("hide",this._invokeCallback,this)};var a={},b={};a._checkConfirmationAndHide=function(f,g){this.hide(g)};a._invokeCallback=function(f,g){if(typeof this.get("callback")==="function"){this.get("callback")(g)}else{if(g&&typeof this.get("callback").confirmed==="function"){this.get("callback").confirmed()}else{if(!g&&typeof this.get("callback").cancelled==="function"){this.get("callback").cancelled()}}}};c.extend(c.FlickrDialog.ConfirmationDialog,c.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-confirmation"].requires||[],optional:F.config.modules["flickr-dialog-confirmation"].optional||[]});YUI.add("flickr-dialog-destructive-confirmation",function(c){c.FlickrDialog.DestructiveConfirmationDialog=function(d){var e;e={confirmButtonClass:"DeleteButt"};d=c.mix(d||{},e);c.FlickrDialog.DestructiveConfirmationDialog.superclass.constructor.call(this,d);this.set("primaryControl",c.one("#"+this.get("cancelButtonId")))};var a={},b={};c.extend(c.FlickrDialog.DestructiveConfirmationDialog,c.FlickrDialog.ConfirmationDialog,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-destructive-confirmation"].requires||[],optional:F.config.modules["flickr-dialog-destructive-confirmation"].optional||[]});YUI.add("flickr-dialog-frame",function(c){c.FlickrDialog.Frame=function(d){var e={dialogClass:"flickr-dialog-frame"};d=c.mix(d||{},e);c.FlickrDialog.Frame.superclass.constructor.call(this,d)};var a={},b={};c.extend(c.FlickrDialog.Frame,c.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-frame"].requires||[],optional:F.config.modules["flickr-dialog-frame"].optional||[]});YUI.add("flickr-dialog-short-message",function(d){var a='<span class="short-msg-{type}"></span>{message}';d.FlickrDialog.ShortMessage=function(e){var f,g;f={message:"",width:"auto",type:"no-icon",callback:function(h){},dialogClass:"flickr-dialog-short-message",role:"alertdialog",allowClicksOnMaskToHide:true,allowReturnKeyToConfirm:true,timeToHide:4000};e=d.mix(e||{},f);e.dialogContentHTML=d.substitute(a,e);d.FlickrDialog.ShortMessage.superclass.constructor.call(this,e);g={message:{value:f.message,validator:d.Lang.isString,writeOnce:"initOnly"},callback:{value:f.callback,writeOnce:"initOnly"},timeToHide:{value:f.timeToHide,validator:d.Lang.isNumber,writeOnce:"initOnly"}};this.addAttrs(g,e);this.on("hide",this.get("callback"),this);if(this.get("timeToHide")){this.on("show",this._startFinalCountdown,this);this.on("hide",this._cancelFinalCountdown,this)}};var b={},c={};b._startFinalCountdown=function(){this._timer=d.later(this.get("timeToHide"),this,this.hide)};b._cancelFinalCountdown=function(){this._timer.cancel()};d.extend(d.FlickrDialog.ShortMessage,d.FlickrDialog.Base,b,c)},"0.0.1",{requires:F.config.modules["flickr-dialog-short-message"].requires||[],optional:F.config.modules["flickr-dialog-short-message"].optional||[]});YUI.add("flickr-dialog-spinner",function(c){c.FlickrDialog.Spinner=function(d){var e={dialogClass:"flickr-dialog-spinner",width:"auto",allowEscKeyToCancel:false};d=c.mix(d||{},e);c.FlickrDialog.Spinner.superclass.constructor.call(this,d)};var a={},b={};c.extend(c.FlickrDialog.Spinner,c.FlickrDialog.Base,a,b)},"0.0.1",{requires:F.config.modules["flickr-dialog-spinner"].requires||[],optional:F.config.modules["flickr-dialog-spinner"].optional||[]});YUI.add("flickr-dialog",function(a){},"0.0.1",{requires:F.config.modules["flickr-dialog"].requires||[],optional:F.config.modules["flickr-dialog"].optional||[]});YUI.add("photo-comments-transjax",function(a){a.transjax.add("photo-comments",{error_delete_permission:"Sorry, but you don\'t have permission to delete that comment, or you aren\'t signed into Flickr.",error_delete_generic:'Sorry, but there was a problem deleting the comment.',error_edit_getting:'Sorry, but there was a problem getting the comment to edit.',error_edit_generic:'Sorry, but there was a problem editing the comment.',error_add_rate_limit:'Slow down, partner! To protect the Flickr community against spam, we place a few restrictions on new accounts. You can read more about these restrictions in <a href="/help/website/#870679">this FAQ</a>.',error_add_generic:'We had a problem saving your comment.',error_getting_comments:'Sorry, but there was a problem getting the comments for this photo.',error_empty_body:"An empty comment box? That won't work!",reply_wipe_confirmation:'You already started typing a comment. If you continue, that text will be lost!',reply_button_confirm:'OKAY',reply_button_cancel:'CANCEL',delete_confirmation:'Are you sure you want to delete this comment?',delete_button_confirm:'YES, DELETE IT',delete_button_cancel:'CANCEL',hide_formatting_tips:'Hide formatting tips',faves_rollup_placeholder:'...and %s more favorites',block_user:'Block this user from commenting on your stuff in the future.',user_blocked:'You are currently blocking this Flickr member. They cannot add any more comments to any of your stuff. You can remove this via the blocked list on your "Contacts" page.',deleting:'Deleting...',trigger_recompile:"",bert_lorem_ipsum:"Lorem Ip\'sum lorem"})},"0.0.1",{requires:["transjax-base"]});YUI.add("fb-reco",function(c){function a(){var d=c.one(".connect-card .fb-butt");if(!d){return}d.on("click",this.getAccessToken,this)}a.prototype={getAccessToken:function(f){f.halt();if(!FB){cb.call(ref,false);return}var d=this;FB.getLoginStatus(function(e){if(e.status==="connected"){window.location.href="/friends/facebook/"}else{if(e.status==="not_authorized"){}else{FB.login(function(g){if(g.authResponse){var h=FB.getAuthResponse()["accessToken"];window.location.href="/friends/facebook/"}},{scope:"publish_actions,user_friends"})}}})}};var b=new a();c.fbReco=b},"0.0.1",{requires:F.config.modules["fb-reco"].requires||[]});YUI.add("string-filters",function(d){function m(s){return s.replace(/\n/g,"<br>")}function o(s){s=d.Lang.trim(s);s="<p>"+s+"</p>";s=s.replace(/<blockquote>(.*?)<\/blockquote>/g,"</p><blockquote><p>$1</p></blockquote><p>");s=s.replace(/(?:\r?\n){2,}/g,"</p><p>");s=s.replace(/(?:\r?\n){1}/g,"<br>");s=s.replace(/<p><\/p>/g,"");s=s.replace(/<br><\/p>/g,"</p>");s=s.replace(/<p><br>/g,"<p>");return s}function k(u,t){var s={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",402:"fnof",710:"circ",732:"tilde",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8226:"bull",8230:"hellip",8240:"permil",8242:"prime",8243:"Prime",8249:"lsaquo",8254:"oline",8260:"frasl",8250:"rsaquo",8364:"euro",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams"};if(t){return u.replace(/[\u00A0-\u2666<>\&]/g,function(v){return"&"+(s[v.charCodeAt(0)]?s[v.charCodeAt(0)]:"#"+v.charCodeAt(0))+";"})}else{u=u.replace(/&/g,"&amp;");u=u.replace(/"/g,"&quot;");u=u.replace(/</g,"&lt;");u=u.replace(/>/g,"&gt;");return u}}function j(t,s){if(!t.match(/&/)){return t}if(s){var u=document.createElement("div");u.innerHTML=t;if(u.childNodes.length===0){return""}else{return u.childNodes[0].nodeValue===null?j(t,false):u.childNodes[0].nodeValue}return u.childNodes.length===0?"":u.childNodes[0].nodeValue}else{t=t.replace(/&amp;/g,"&");t=t.replace(/&quot;/g,'"');t=t.replace(/&lt;/g,"<");t=t.replace(/&gt;/g,">");return t}}function i(x,D,s){if(!s){s=" "}if(!D){D=""}D=D.replace(/\s/g,s);if(x.indexOf("http://")>-1){var A=x.split("\n");for(var z=0;z<A.length;z++){var v=A[z].split(" ");for(var C=0;C<v.length;C++){var E="";if(v[C].substr(0,1)==="("){v[C]=v[C].replace(/\(/g,"");E="("}if(v[C].substr(0,7)==="http://"){var u=v[C];var B="";if(u.substr(u.length-1,1)===")"){u=u.substr(0,u.length-1);B=")"}var w="";if(u.substr(u.length-1,1)==="."){u=u.substr(0,u.length-1);w="."}v[C]=('<a href="'+u+'" rel="nofollow" onclick="'+D+'">'+u+"</a>"+B+w).replace(/\s/g,s)}v[C]=E+v[C]}A[z]=v.join(" ")}x=A.join("\n")}return x}function b(s){if(d.config.flickr.lang&&d.config.flickr.lang!=="en-us"){return s}if(s.substr(s.length-1,1).toLowerCase()==="s"){return s+"'"}else{return s+"'s"}}function g(w,s,v,u){v=v||"\n";s=s||75;u=u||false;if(!w){return w}var t=".{1,"+s+"}(\\s|$)"+(u?"|.{"+s+"}|.+$":"|\\S+?(\\s|$)");return w.match(new RegExp(t,"g")).join(v)}function f(y,s,t,A){s=s||80;t=t||'<span class="breaking-non-space"> </span>';if(A!==false){A=true}var B=g(y,s,t,A);var z=B.split(t);if(z.length<=1){return y}var w="";for(var u=0,v=z.length,x=0;u<v-1;u++){x+=z[u].length;if(y[x]===" "){w+=z[u]+" ";x++}else{w+=z[u]+t}}w+=z[z.length-1];return w}function h(y){if(y===""||y===null||y===undefined){return""}y=y.toString();var t="";for(var w=0;w<y.length;w++){var z=y.charCodeAt(w);var v=[];if(z>65536){v[0]=240|((z&1835008)>>>18);v[1]=128|((z&258048)>>>12);v[2]=128|((z&4032)>>>6);v[3]=128|(z&63)}else{if(z>2048){v[0]=224|((z&61440)>>>12);v[1]=128|((z&4032)>>>6);v[2]=128|(z&63)}else{if(z>128){v[0]=192|((z&1984)>>>6);v[1]=128|(z&63)}else{v[0]=z}}}if(v.length>1){for(var u=0;u<v.length;u++){var s=v[u];var x=l((s&240)>>>4)+l(s&15);t+="%"+x}}else{if(encodeURIComponent&&typeof encodeURIComponent==="function"){t+=encodeURIComponent(String.fromCharCode(v[0]))}else{t+=(String.fromCharCode(v[0]))}}}return t}function n(w){if(w===""||w===null||w===undefined){return""}w=w.toString();var s="";for(var v=0;v<w.length;v++){var x=w.charCodeAt(v);var u=[];if(x>65536){u[0]=240|((x&1835008)>>>18);u[1]=128|((x&258048)>>>12);u[2]=128|((x&4032)>>>6);u[3]=128|(x&63)}else{if(x>2048){u[0]=224|((x&61440)>>>12);u[1]=128|((x&4032)>>>6);u[2]=128|(x&63)}else{if(x>128){u[0]=192|((x&1984)>>>6);u[1]=128|(x&63)}else{u[0]=x}}}if(u.length>1){for(var t=0;t<u.length;t++){s+=(String.fromCharCode(u[t]))}}else{s+=(String.fromCharCode(u[0]))}}return s}function l(s){var t="0123456789ABCDEF";return t.charAt(s)}function q(s){return s.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi,"")}function c(u,s,t){s=s||30;t=d.Lang.isString(t)?t:"...";if(u.length>s){u=u.slice(0,s-t.length)+t}return u}function a(v){var s,u,t;s=["(?:ae|)","(?:oe|)","(?:ss|)","(?:th|)","[a]","[e3]","[i]","[o]","[u]","[y]","[c]","[d]","[f]","[g]","[h]","[j]","[k]","[l]","[n]","[r]","[s]","[t]","[z]"];u=s.length;for(t=0;t<u;t++){v=v.replace(new RegExp(s[t],"gi"),s[t])}return v}function p(t){var s=/^[a-z_0-9\.\-\+]+@[a-z_0-9\.\-\+]+\.[a-z]/i;return s.test(t)}function r(u){if(!d.Lang.isString(u)||u.length===0){return""}var v=u.substring(1,u.length).toLowerCase().split(""),s="",t={a:"",e:"",i:"",o:"",u:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};v=d.Array.filter(v,function(x,w,y){return x!==y[w+1]});v=d.Array.map(v,function(w){return t[w]});s=u.charAt(0).toUpperCase()+v.join("");return(s+"000").slice(0,4)}function e(t,s){var u=3;if(!d.Lang.isString(t)||!d.Lang.isString(s)||t.length<4||s.length<4){return false}if(t===s){return true}while(t.charAt(u)==="0"||s.charAt(u)==="0"){t=t.slice(0,u);s=s.slice(0,u);if(t===s){return 4-u}u--}return false}d.StringFilters={nl2br:m,nl2p:o,escape_entities:k,unescape_entities:j,linkify:i,possess:b,wordwrap:g,zero_width_wordwrap:f,escape_utf8:h,escape_utf8_bytes:n,strip_tags:q,truncate:c,substitute_equivalent_chars:a,is_email_address:p,soundex:r,isEqualSoundex:e}},"0.0.1",{requires:F.config.modules["string-filters"].requires||[],optional:F.config.modules["string-filters"].optional||[]});(function(){var a="refresh-sihp-friendfinder";YUI.add(a,function(c){var d=c.flickrAPI,k={},b=[],f,n=4,j=0,e=4;function l(v){var r=v.length,u,s;while(r){s=Math.floor(Math.random()*r--);u=v[r];v[r]=v[s];v[s]=u}return v}function o(u){var r,s,t;if(u.length>0){r=u.length;while(r--){s=u[r];if(!k[s.nsid]){k[s.nsid]={isUsed:false};t={name:c.StringFilters.escape_entities(s.realname||s.username),nsid:s.nsid,buddyIcon:s.iconurls["default"],photosUrl:"/photos/"+(s.path_alias||s.nsid),relationshipUrl:"/people/"+(s.path_alias||s.nsid+"/")+"relationship/"};b.push(t)}}b=l(b)}}function i(r){var u,s,t;if(r){u="flickr.contacts.import.facebook";s={user_id:F.config.flickr.user.nsid,limit:20,lite:1,extras:"icon_urls_deep"}}else{u="flickr.contacts.getSuggestions";s={user_id:F.config.flickr.user.nsid,extras:"icon_urls_deep",count:20}}t={success:function(v){var x,w;try{if(r){x=v.data["import"].members.contact}else{x=v.data.suggestions.suggestion}}catch(y){x=null}if(x){o(x)}if((!x||b.length<4)&&j<e){j++;i();return}f.one("#fb-loading-balls").remove();for(w=0;w<n;w++){h(q())}c.refreshSIHPSidebar.updateConfig()},failure:function(v){f.remove();c.refreshSIHPSidebar.updateConfig()}};d.callMethod(u,s,t)}function q(){var t=0,r=b.length,u,s;while(t<r){s=k[b[t].nsid];if(s&&!s.isUsed){s.isUsed=true;u=b.shift();return u}else{t++}}return null}function h(r){var s=f.one(".peopleYouMayKnow");if(r&&c.config.flickr.flags.enable_feed_reskin){s.append(c.Node.create(['<li class="suggestion clearfix" data-user-nsid='+r.nsid+">",'<a href="'+r.photosUrl+'" class="buddyicon-link"><img src="'+r.buddyIcon+'" alt="" width="32" height="32"></a>','<span class="username"><a href="'+r.photosUrl+'">'+c.StringFilters.truncate(c.StringFilters.escape_entities(r.name),25)+"</a></span>",'<div class="friendfinder-btn-wrapper">','<button data-user-nsid="'+r.nsid+'" data-track="addContact" class="addNewContact add-as-a-contact-link is-a-contact">&check;</button>',"</div>","</li>"].join("")))}else{if(r){s.append(c.Node.create(['<li class="suggestion clearfix" data-user-nsid='+r.nsid+">",'<a href="'+r.photosUrl+'" class="buddyicon-link"><img src="'+r.buddyIcon+'" alt="" width="32" height="32"></a>','<span class="username"><a href="'+r.photosUrl+'">'+c.StringFilters.truncate(c.StringFilters.escape_entities(r.name),25)+"</a></span>",'<div class="friendfinder-btn-wrapper">','<span class="is-a-contact">'+c.transjax.get("refresh-sihp","added_contact")+"</span>",'<a href="'+r.relationshipUrl+'" data-user-nsid="'+r.nsid+'" data-track="addContact" class="addNewContact add-as-a-contact-link">'+c.transjax.get("refresh-sihp","add_contact")+"</a>","</div>","</li>"].join("")))}}}function g(v,r){var y,w,x,s,t,u;y="flickr.contacts.add";w={user_id:r,friend:0,family:0};x={success:function(z){t.hide();u=s.one(".is-a-contact");if(c.config.flickr.flags.enable_feed_reskin){u.addClass("following")}else{u.removeClass("is-a-contact");u.addClass("is-a-contact-success")}setTimeout(function(){if(s.ancestor("ul").all("li").size()>1){s.ancestor("li").remove();h(q())}else{f.remove()}c.refreshSIHPSidebar.updateConfig()},1000)},failure:function(z){t.hide();v.show()}};s=v.ancestor();t=s.one(".friendfinder-spinner");if(!t){t=c.Node.create('<div class="html5-balls"><span class="blueball"></span><span class="pinkball"></span></div>')}else{t.show()}s.append(t);v.hide();d.callMethod(y,w,x)}function m(s){var r=s.target;if(r.hasClass("add-as-a-contact-link")){s.halt();g(r,r.getAttribute("data-user-nsid"))}}function p(r){f=r.sidebarNode.one("#sihp-friendfinder");if(c.config.flickr.flags.enable_hermes_sihp_fb_friendfinder&&f&&!f.one("#sihp-fb-empty")){i(true)}if(f){f.on("click",m)}var s=c.one("#sihp-fb-empty .fb-butt")||c.one("#sihp-fb-empty .facebook-button");if(s){s.on("click",c.fbReco.getAccessToken)}}c.refreshSIHPFriendFinder={init:p}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="refresh-sihp-transjax";YUI.add(a,function(c){var b={remove_fave_photo:'Remove this photo from your favorites?',remove_fave_video:'Remove this video from your favorites?',add_fave_photo:'Add this photo to your favorites?',add_fave_video:'Add this video to your favorites?',added_contact:c.config.flickr.flags.enable_follow_theme?'Following':'Added!',add_contact:c.config.flickr.flags.enable_follow_theme?'Follow':'+ Add',scroll_down:'Scroll down',scroll_up:'Scroll up',scroll_to_next_photo:'Scroll to next photo',scroll_to_prev_photo:'Scroll to previous photo',shortcut_description:'Show all keyboard shortcuts',esc_description:'Close a dialog, like this one'};c.transjax.add("refresh-sihp",b)},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());(function(){var a="refresh-sihp-sidebar";YUI.add(a,function(d){var l=0,h=0,c=0,b=0,e=0,i=0,j=0,p=0,u=0,g=10,o=0,f=0,k=this;var s={body:d.one(document.body),main:d.one("#main"),nav:d.one("#global-nav"),feed:d.one("#activityFeed"),sidebar:d.one("#sidebar"),billboardAd:d.one("#ad-container-billboard")};function n(){var w={spaceID:792600147,position:"MAST"};var x=F.adHelper;if(x){x.onScheduledAd(w,function(){v({includeNav:true});q()})}}function t(){var w="magic_cookie="+d.config.flickr.magic_cookie,x={method:"get",data:w,on:{success:function(B,A,y){var z=A.responseText.replace(/[\t\n]+/g,"");s.sidebar.append(z);r();d.deferImages(s.sidebar.all("img.defer"),{threshold:d.DOM.winHeight()});n()},failure:function(y,z){n()}}};d.io("/refresh_sihp_sidebar_fragment.gne?cachebust="+(new Date()).getTime(),x)}function r(w){w=w||{};w.sidebarNode=s.sidebar;v({includeNav:true,includeFoot:true});if(!d.one("#no-friends")){p=d.one("#see-more-button-wrap").get("offsetHeight")-g}q();d.refreshSIHPFriendFinder.init(w);d.once("refreshAnnouncement:close",function(){v({includeNav:true});q()});d.once("nofriends:close",m);d.once("photobooksbanner:close",m);d.on("SIHP:appended",m);d.on("Liquid:resize",d.betterThrottle(m,100,k));if(d.config.flickr.flags.enable_feed_reskin&&(d.config.flickr.flags.show_mac_uploader_banner||d.config.flickr.flags.show_windows_uploader_banner)){d.all("#sihp-flickr-uploadr .install-button").on("click",function(x){x.preventDefault();if(x.target.hasClass("disabled")){return}if(d.UA.os==="macintosh"){d.rapidTracker.beacon("mac-uploadr-download");d.config.win.location="https://flickr.com/tools/downloadmac"}else{if(d.UA.os==="windows"){d.rapidTracker.beacon("windows-uploadr-download");d.config.win.location="https://flickr.com/tools/downloadwindows"}}})}if(d.one("#sihp-flickr-pro-upsell")){d.rapidTracker.addModules("sihp-flickr-pro-upsell")}}function v(w){w=w||{};l=d.one("window").get("winHeight");h=s.body.get("docHeight");e=s.feed.get("offsetHeight");i=s.sidebar.get("offsetHeight");f=s.feed.get("offsetWidth");o=d.config.flickr.flags.enable_feed_reskin?s.feed.getX()+f+20+20:s.feed.getX()+f+20;if(s.billboardAd&&f<970){u=s.billboardAd.get("offsetHeight");if(isNaN(u)){u=0}}else{u=0}if(w.includeNav){c=s.nav.get("offsetHeight")+s.nav.get("offsetTop")+g}if(w.includeFoot){b=d.one("#foot")?d.one("#foot").get("offsetHeight"):0;if(d.one("#footer_admin_info_div")){b+=d.one("#footer_admin_info_div").get("offsetHeight")}}}function q(x,w){if(!w){if(document.documentElement&&document.documentElement.scrollTop){w=document.documentElement.scrollTop}else{w=document.body.scrollTop}}if(i<l-c){if(w+c+i>h-b){s.sidebar.setStyles({position:"absolute",top:"auto",bottom:0,left:"auto"})}else{if(w<=u){s.sidebar.setStyles({position:"absolute",top:u,bottom:"auto",left:"auto"})}else{s.sidebar.setStyles({position:"fixed",top:c,bottom:"auto",left:o})}}}else{if(w+c+i>h-b){s.sidebar.setStyles({position:"absolute",top:"auto",bottom:0,left:"auto"})}else{if(w<=Math.abs(l-c-u-i)){s.sidebar.setStyles({position:"absolute",top:u,bottom:"auto",left:"auto"})}else{s.sidebar.setStyles({position:"fixed",top:"auto",bottom:0,left:o})}}}}function m(){v();q()}d.refreshSIHPSidebar={init:r,scrollHandler:q,updateConfig:v,loadSidebar:t}},"0.0.1",{requires:F.config.modules[a].requires||[],optional:F.config.modules[a].optional||[]})}());/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("classnamemanager",function(e,t){var n="classNamePrefix",r="classNameDelimiter",i=e.config;i[n]=i[n]||"yui3",i[r]=i[r]||"-",e.ClassNameManager=function(){var t=i[n],s=i[r];return{getClassName:e.cached(function(){var n=e.Array(arguments);return n[n.length-1]!==!0?n.unshift(t):n.pop(),n.join(s)})}}()},"3.11.0",{requires:["yui-base"]});
